import{f as h}from"./chunk-LSEVNFON-G8OzWBoO.js";import{aL as w,c as i,f as s,an as g,m as S,bW as C,bp as T,aO as V,d as k,bX as E}from"./index-DzjyJcX9.js";import b from"./hookMeasureHeight-BSlWogcs.js";import{e as I}from"./explain-55b8_AdP.js";import{m as M}from"./markdown-CMudKybz.js";import"./iconBase-DKriBYi6.js";import"./index-DFRpaVUm.js";function Y(){I(function(){M`
这个是用原生的滚动,每个item的高度不固定
未出现的高度依平均高度
    `});const x=w(1e3,r=>({id:r,color:h.color.rgb(),content:h.lorem.lines()})),a=i(x),l=i(0),v=s.div({className:" w-[90%] h-[90%] overflow-y-auto border-red-100 border-1",onScroll(r){l.set(v.scrollTop),g()},children(r){const u=i(0);b(r,()=>{u.set(r.clientHeight),g()});const o=i(0),c=new Map,m=S(()=>{let e=0,t=0;return o.get(),c.forEach(n=>{e=e+n,t++}),t?e/t:100});function y(e){o.get();const t=c.get(e.id);return typeof t=="number"?t:m()||100}const{paddingBegin:H,subList:L}=C(()=>E(a.get(),l.get(),u.get(),y));s.div({s_height(){return m()*a.get().length+"px"},s_paddingTop(){return H()+"px"},children(){T(function(e){const t=a.get(),[n,p]=L();console.log("range",n,p);for(let d=n;d<p;d++){const f=t[d];e(f.id,f)}},function(e,t){const n=s.div({s_background(){return t.getValue().color},children(){V(()=>t.getValue().id+"--"),s.input({className:"daisy-input daisy-input-xs"}),k.p().renderTextContent(()=>t.getValue().content)}});b(n,function(){c.set(e,n.clientHeight),o.set(o.get()+1),g()})})}})}})}export{Y as default};
