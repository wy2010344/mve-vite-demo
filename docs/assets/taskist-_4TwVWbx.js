import{aL as p,O as v,F as y,c as g,f as e,bn as N,A as w,H as k,m as I,b9 as D,J as T,K as M,N as C,be as F,bo as P,bp as S,ad as V,aH as A,w as x,Z as m}from"./index-DzjyJcX9.js";import{a as L}from"./onlyMobile-BWWyyzDX.js";import{f as o}from"./chunk-LSEVNFON-G8OzWBoO.js";import{G as O}from"./iconBase-DKriBYi6.js";import{a as X}from"./index-DFRpaVUm.js";import{a as B}from"./index-cHHGad51.js";function E(s,i){return O({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.5 6h-5.5v-5.5c0-0.276-0.224-0.5-0.5-0.5h-3c-0.276 0-0.5 0.224-0.5 0.5v5.5h-5.5c-0.276 0-0.5 0.224-0.5 0.5v3c0 0.276 0.224 0.5 0.5 0.5h5.5v5.5c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-5.5h5.5c0.276 0 0.5-0.224 0.5-0.5v-3c0-0.276-0.224-0.5-0.5-0.5z"},child:[]}]},s,i)}const G=p(7,function(s){return{id:s,color:o.color.rgb(),title:o.book.author(),children:p(o.number.int({min:12,max:17}),function(i){const c=!!(o.number.int()%2),l=o.date.between({from:"2020-01-01T00:00:00.000Z",to:Date.now()});return{id:i,display:o.lorem.sentence(),createTime:l,editTime:new Date(l.valueOf()+o.number.int()),finishTime:c?new Date(l.valueOf()+o.number.int({min:v})):void 0}})}});y.get();function j(){L(function(){const s=g(G),i=g(0);e.div({className:"h-full flex flex-col items-stretch",children(){e.div({className:"h-50",children(){e.button({className:"daisy-btn daisy-btn-ghost daisy-btn-circle",onClick(){N.push("/taskist/total")},children(){X()}})}});function c(r){S(function(n){let t=i.get();const a=s.get(),d=a.length-1,f=t==0?d:t-1,b=t==d?1:t+1;n(f,a[f]),n(t,a[t]),n(b,a[b])},r)}const l=w(0),h=T(l,()=>u.clientWidth);k(I(r=>{const n=i.get();if(typeof r=="number"){const t=D(n-r,s.get().length),a=Math.sign(t);a&&h.changePage(a)}return n}));const u=e.div({className:"relative flex-1 min-h-0",onPointerDown:M(function(){return{onMove(r,n){if(n=="x")return h.pointerDown(r,{getPage:C,callback(t,a){const d=s.get().length;i.set(F(i.get()+t,d))}})}}}),children(){e.div({className:"h-full",s_transform(){return`translateX(${-l.get()}px)`},children(){c(function(r,n){e.div({className(){const t=n.getIndex()-1;return x("w-full h-full overflow-y-auto",t&&"absolute inset 0",t<0&&m`-translate-x-full top-0`,t>0&&m`translate-x-full top-0`)},children(){e.table({className:"w-full",children(){e.thead({className:"sticky top-0 bg-base-100",children(){e.tr({children(){e.td({}),e.td({className:"pt-4 pb-4 border-b-1 border-b-base-300",children(){e.h1({className:"text-4xl font-bold",childrenType:"text",children(){return n.getValue().title+"--"+n.getValue().id}})}})}})}}),e.tbody({children(){V(()=>n.getValue().children,t=>t.id,function(t){e.tr({children(){e.td({className:"align-top pl-8 pr-2 pt-4 pb-4",children(){A(()=>!!t().finishTime,a=>{},e.input({type:"checkbox"}))}}),e.td({className:"align-top pt-4 pb-4",children(){e.div({className:"font-bold",childrenType:"text",children(){return t().display}})}})}})})}})}})}})})}})}});e.div({className:" w-full pl-8 pr-8 pb-10 flex justify-between items-end",children(){e.div({className:"w-100 flex items-end gap-2",s_transform(){return`translateX(${-l.get()*8/u.clientWidth}px)`},children(n){c(function(t,a){e.div({className(){return x("w-2 transition-all",a.getIndex()==1?m`h-14`:m`h-10`)},s_background(){return a.getValue().color}})})}});const r=e.button({className:"daisy-btn daisy-btn-square",children(){E()}});P(r,{operateClone(n){return B(n,{opacity:0})}})}})}})})}export{j as default};
