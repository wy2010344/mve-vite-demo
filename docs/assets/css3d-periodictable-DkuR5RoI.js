import{g as T,G as $,as as ht}from"./index-BdTCZeBf.js";import"./three.module-EYrWAVy6.js";import{f as at,g as I,b,V as P,Q as nt,j as J,cq as z,o as ot,k as ct,l as lt}from"./three.core-IZwRyLr5.js";var N=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-N.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?N.Bounce.In(t*2)*.5:N.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),j=function(){return performance.now()},rt=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(i){return e._tweens[i]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,i){e===void 0&&(e=j()),i===void 0&&(i=!1);var o=Object.keys(this._tweens);if(o.length===0)return!1;for(;o.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<o.length;r++){var h=this._tweens[o[r]],a=!i;h&&h.update(e,a)===!1&&!i&&delete this._tweens[o[r]]}o=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),A={Linear:function(t,e){var i=t.length-1,o=i*e,r=Math.floor(o),h=A.Utils.Linear;return e<0?h(t[0],t[1],o):e>1?h(t[i],t[i-1],i-o):h(t[r],t[r+1>i?i:r+1],o-r)},Bezier:function(t,e){for(var i=0,o=t.length-1,r=Math.pow,h=A.Utils.Bernstein,a=0;a<=o;a++)i+=r(1-e,o-a)*r(e,a)*t[a]*h(o,a);return i},CatmullRom:function(t,e){var i=t.length-1,o=i*e,r=Math.floor(o),h=A.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(r=Math.floor(o=i*(1+e))),h(t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i],o-r)):e<0?t[0]-(h(t[0],t[0],t[1],t[1],-o)-t[0]):e>1?t[i]-(h(t[i],t[i],t[i-1],t[i-1],o-i)-t[i]):h(t[r?r-1:0],t[r],t[i<r+1?i:r+1],t[i<r+2?i:r+2],o-r)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=A.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i=1;if(t[e])return t[e];for(var o=e;o>1;o--)i*=o;return t[e]=i,i}}(),CatmullRom:function(t,e,i,o,r){var h=(i-t)*.5,a=(o-e)*.5,l=r*r,p=r*l;return(2*e-2*i+h+a)*p+(-3*e+3*i-2*h-a)*l+h*r+e}}},G=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),K=new rt,ut=function(){function t(e,i){i===void 0&&(i=K),this._object=e,this._group=i,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=N.Linear.None,this._interpolationFunction=A.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=G.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,i){if(i===void 0&&(i=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=i<0?0:i,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,i){if(e===void 0&&(e=j()),i===void 0&&(i=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var o in this._valuesStartRepeat)this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||i){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var h in this._valuesEnd)r[h]=this._valuesEnd[h];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,i)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,i,o,r,h){for(var a in o){var l=e[a],p=Array.isArray(l),y=p?"array":typeof l,m=!p&&Array.isArray(o[a]);if(!(y==="undefined"||y==="function")){if(m){var n=o[a];if(n.length===0)continue;for(var d=[l],_=0,g=n.length;_<g;_+=1){var f=this._handleRelativeValue(l,n[_]);if(isNaN(f)){m=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(f)}m&&(o[a]=d)}if((y==="object"||p)&&l&&!m){i[a]=p?[]:{};var c=l;for(var s in c)i[a][s]=c[s];r[a]=p?[]:{};var n=o[a];if(!this._isDynamic){var v={};for(var s in n)v[s]=n[s];o[a]=n=v}this._setupProperties(c,i[a],n,r[a],h)}else(typeof i[a]>"u"||h)&&(i[a]=l),p||(i[a]*=1),m?r[a]=o[a].slice().reverse():r[a]=i[a]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=j()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=j()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,i=this._chainedTweens.length;e<i;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e===void 0&&(e=K),this._group=e,this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=N.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=A.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,i){var o=this,r;if(e===void 0&&(e=j()),i===void 0&&(i=!0),this._isPaused)return!0;var h,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>a)return!1;i&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=e-this._startTime,p=this._duration+((r=this._repeatDelayTime)!==null&&r!==void 0?r:this._delayTime),y=this._duration+this._repeat*p,m=function(){if(o._duration===0||l>y)return 1;var c=Math.trunc(l/p),s=l-c*p,v=Math.min(s/o._duration,1);return v===0&&l===o._duration?1:v},n=m(),d=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),this._duration===0||l>=this._duration)if(this._repeat>0){var _=Math.min(Math.trunc((l-this._duration)/p)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=_);for(h in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[h]=="string"&&(this._valuesStartRepeat[h]=this._valuesStartRepeat[h]+parseFloat(this._valuesEnd[h])),this._yoyo&&this._swapEndStartRepeatValues(h),this._valuesStart[h]=this._valuesStartRepeat[h];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=p*_,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var g=0,f=this._chainedTweens.length;g<f;g++)this._chainedTweens[g].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,i,o,r){for(var h in o)if(i[h]!==void 0){var a=i[h]||0,l=o[h],p=Array.isArray(e[h]),y=Array.isArray(l),m=!p&&y;m?e[h]=this._interpolationFunction(l,r):typeof l=="object"&&l?this._updateProperties(e[h],a,l,r):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[h]=a+(l-a)*r))}},t.prototype._handleRelativeValue=function(e,i){return typeof i!="string"?i:i.charAt(0)==="+"||i.charAt(0)==="-"?e+parseFloat(i):parseFloat(i)},t.prototype._swapEndStartRepeatValues=function(e){var i=this._valuesStartRepeat[e],o=this._valuesEnd[e];typeof o=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(o):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=i},t}(),pt="23.1.1",dt=G.nextId,E=K,ft=E.getAll.bind(E),_t=E.removeAll.bind(E),mt=E.add.bind(E),yt=E.remove.bind(E),gt=E.update.bind(E),x={Easing:N,Group:rt,Interpolation:A,now:j,Sequence:G,nextId:dt,Tween:ut,VERSION:pt,getAll:ft,removeAll:_t,add:mt,remove:yt,update:gt};const W={type:"change"},Q={type:"start"},V={type:"end"},tt=1e-6,u={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},L=new P,M=new P,vt=new b,U=new b,X=new b,k=new nt,et=new b,Z=new b,q=new b,F=new b;class bt extends at{constructor(e,i=null){super(e,i),this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:I.ROTATE,MIDDLE:I.DOLLY,RIGHT:I.PAN},this.target=new b,this.state=u.NONE,this.keyState=u.NONE,this._lastPosition=new b,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new b,this._movePrev=new P,this._moveCurr=new P,this._lastAxis=new b,this._zoomStart=new P,this._zoomEnd=new P,this._panStart=new P,this._panEnd=new P,this._pointers=[],this._pointerPositions={},this._onPointerMove=Et.bind(this),this._onPointerDown=wt.bind(this),this._onPointerUp=St.bind(this),this._onPointerCancel=Ct.bind(this),this._onContextMenu=kt.bind(this),this._onMouseWheel=At.bind(this),this._onKeyDown=Mt.bind(this),this._onKeyUp=Pt.bind(this),this._onTouchStart=Dt.bind(this),this._onTouchMove=jt.bind(this),this._onTouchEnd=It.bind(this),this._onMouseDown=Ot.bind(this),this._onMouseMove=xt.bind(this),this._onMouseUp=Tt.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,i!==null&&(this.connect(i),this.handleResize()),this.update()}connect(e){super.connect(e),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const e=this.domElement.getBoundingClientRect(),i=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-i.clientLeft,this.screen.top=e.top+window.pageYOffset-i.clientTop,this.screen.width=e.width,this.screen.height=e.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>tt&&(this.dispatchEvent(W),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>tt||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(W),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=u.NONE,this.keyState=u.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(W),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(M.copy(this._panEnd).sub(this._panStart),M.lengthSq()){if(this.object.isOrthographicCamera){const e=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,i=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;M.x*=e,M.y*=i}M.multiplyScalar(this._eye.length()*this.panSpeed),U.copy(this._eye).cross(this.object.up).setLength(M.x),U.add(vt.copy(this.object.up).setLength(M.y)),this.object.position.add(U),this.target.add(U),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(M.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){F.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let e=F.length();e?(this._eye.copy(this.object.position).sub(this.target),et.copy(this._eye).normalize(),Z.copy(this.object.up).normalize(),q.crossVectors(Z,et).normalize(),Z.setLength(this._moveCurr.y-this._movePrev.y),q.setLength(this._moveCurr.x-this._movePrev.x),F.copy(Z.add(q)),X.crossVectors(F,this._eye).normalize(),e*=this.rotateSpeed,k.setFromAxisAngle(X,e),this._eye.applyQuaternion(k),this.object.up.applyQuaternion(k),this._lastAxis.copy(X),this._lastAngle=e):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),k.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(k),this.object.up.applyQuaternion(k)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let e;this.state===u.TOUCH_ZOOM_PAN?(e=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=J.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,e!==1&&e>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=J.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(e,i){return L.set((e-this.screen.left)/this.screen.width,(i-this.screen.top)/this.screen.height),L}_getMouseOnCircle(e,i){return L.set((e-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-i))/this.screen.width),L}_addPointer(e){this._pointers.push(e)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let i=0;i<this._pointers.length;i++)if(this._pointers[i].pointerId==e.pointerId){this._pointers.splice(i,1);return}}_trackPointer(e){let i=this._pointerPositions[e.pointerId];i===void 0&&(i=new P,this._pointerPositions[e.pointerId]=i),i.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const i=e.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[i.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function wt(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t))}function Et(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function St(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchEnd(t):this._onMouseUp(),this._removePointer(t),this._pointers.length===0&&(this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp)))}function Ct(t){this._removePointer(t)}function Pt(){this.enabled!==!1&&(this.keyState=u.NONE,window.addEventListener("keydown",this._onKeyDown))}function Mt(t){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===u.NONE&&(t.code===this.keys[u.ROTATE]&&!this.noRotate?this.keyState=u.ROTATE:t.code===this.keys[u.ZOOM]&&!this.noZoom?this.keyState=u.ZOOM:t.code===this.keys[u.PAN]&&!this.noPan&&(this.keyState=u.PAN)))}function Ot(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case I.DOLLY:this.state=u.ZOOM;break;case I.ROTATE:this.state=u.ROTATE;break;case I.PAN:this.state=u.PAN;break;default:this.state=u.NONE}const i=this.keyState!==u.NONE?this.keyState:this.state;i===u.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY)),this._movePrev.copy(this._moveCurr)):i===u.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(t.pageX,t.pageY)),this._zoomEnd.copy(this._zoomStart)):i===u.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(t.pageX,t.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent(Q)}function xt(t){const e=this.keyState!==u.NONE?this.keyState:this.state;e===u.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY))):e===u.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(t.pageX,t.pageY)):e===u.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(t.pageX,t.pageY))}function Tt(){this.state=u.NONE,this.dispatchEvent(V)}function At(t){if(this.enabled!==!1&&this.noZoom!==!0){switch(t.preventDefault(),t.deltaMode){case 2:this._zoomStart.y-=t.deltaY*.025;break;case 1:this._zoomStart.y-=t.deltaY*.01;break;default:this._zoomStart.y-=t.deltaY*25e-5;break}this.dispatchEvent(Q),this.dispatchEvent(V)}}function kt(t){this.enabled!==!1&&t.preventDefault()}function Dt(t){switch(this._trackPointer(t),this._pointers.length){case 1:this.state=u.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=u.TOUCH_ZOOM_PAN;const e=this._pointers[0].pageX-this._pointers[1].pageX,i=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(e*e+i*i);const o=(this._pointers[0].pageX+this._pointers[1].pageX)/2,r=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(o,r)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(Q)}function jt(t){switch(this._trackPointer(t),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY));break;default:const e=this._getSecondPointerPosition(t),i=t.pageX-e.x,o=t.pageY-e.y;this._touchZoomDistanceEnd=Math.sqrt(i*i+o*o);const r=(t.pageX+e.x)/2,h=(t.pageY+e.y)/2;this._panEnd.copy(this._getMouseOnScreen(r,h));break}}function It(t){switch(this._pointers.length){case 0:this.state=u.NONE;break;case 1:this.state=u.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=u.TOUCH_ZOOM_PAN;for(let e=0;e<this._pointers.length;e++)if(this._pointers[e].pointerId!==t.pointerId){const i=this._pointerPositions[this._pointers[e].pointerId];this._moveCurr.copy(this._getMouseOnCircle(i.x,i.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(V)}const it=new b,Nt=new nt,st=new b;class Rt extends z{constructor(e=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(i){i.element instanceof i.element.ownerDocument.defaultView.Element&&i.element.parentNode!==null&&i.element.remove()})})}copy(e,i){return super.copy(e,i),this.element=e.element.cloneNode(!0),this}}const w=new ot,zt=new ot;class Lt{constructor(e={}){const i=this;let o,r,h,a;const l={camera:{style:""},objects:new WeakMap},p=e.element!==void 0?e.element:document.createElement("div");p.style.overflow="hidden",this.domElement=p;const y=document.createElement("div");y.style.transformOrigin="0 0",y.style.pointerEvents="none",p.appendChild(y);const m=document.createElement("div");m.style.transformStyle="preserve-3d",y.appendChild(m),this.getSize=function(){return{width:o,height:r}},this.render=function(c,s){const v=s.projectionMatrix.elements[5]*a;s.view&&s.view.enabled?(y.style.transform=`translate( ${-s.view.offsetX*(o/s.view.width)}px, ${-s.view.offsetY*(r/s.view.height)}px )`,y.style.transform+=`scale( ${s.view.fullWidth/s.view.width}, ${s.view.fullHeight/s.view.height} )`):y.style.transform="",c.matrixWorldAutoUpdate===!0&&c.updateMatrixWorld(),s.parent===null&&s.matrixWorldAutoUpdate===!0&&s.updateMatrixWorld();let B,S;s.isOrthographicCamera&&(B=-(s.right+s.left)/2,S=(s.top+s.bottom)/2);const C=s.view&&s.view.enabled?s.view.height/s.view.fullHeight:1,O=s.isOrthographicCamera?`scale( ${C} )scale(`+v+")translate("+n(B)+"px,"+n(S)+"px)"+d(s.matrixWorldInverse):`scale( ${C} )translateZ(`+v+"px)"+d(s.matrixWorldInverse),R=(s.isPerspectiveCamera?"perspective("+v+"px) ":"")+O+"translate("+h+"px,"+a+"px)";l.camera.style!==R&&(m.style.transform=R,l.camera.style=R),f(c,c,s)},this.setSize=function(c,s){o=c,r=s,h=o/2,a=r/2,p.style.width=c+"px",p.style.height=s+"px",y.style.width=c+"px",y.style.height=s+"px",m.style.width=c+"px",m.style.height=s+"px"};function n(c){return Math.abs(c)<1e-10?0:c}function d(c){const s=c.elements;return"matrix3d("+n(s[0])+","+n(-s[1])+","+n(s[2])+","+n(s[3])+","+n(s[4])+","+n(-s[5])+","+n(s[6])+","+n(s[7])+","+n(s[8])+","+n(-s[9])+","+n(s[10])+","+n(s[11])+","+n(s[12])+","+n(-s[13])+","+n(s[14])+","+n(s[15])+")"}function _(c){const s=c.elements;return"translate(-50%,-50%)"+("matrix3d("+n(s[0])+","+n(s[1])+","+n(s[2])+","+n(s[3])+","+n(-s[4])+","+n(-s[5])+","+n(-s[6])+","+n(-s[7])+","+n(s[8])+","+n(s[9])+","+n(s[10])+","+n(s[11])+","+n(s[12])+","+n(s[13])+","+n(s[14])+","+n(s[15])+")")}function g(c){c.isCSS3DObject&&(c.element.style.display="none");for(let s=0,v=c.children.length;s<v;s++)g(c.children[s])}function f(c,s,v,B){if(c.visible===!1){g(c);return}if(c.isCSS3DObject){const S=c.layers.test(v.layers)===!0,C=c.element;if(C.style.display=S===!0?"":"none",S===!0){c.onBeforeRender(i,s,v);let O;c.isCSS3DSprite?(w.copy(v.matrixWorldInverse),w.transpose(),c.rotation2D!==0&&w.multiply(zt.makeRotationZ(c.rotation2D)),c.matrixWorld.decompose(it,Nt,st),w.setPosition(it),w.scale(st),w.elements[3]=0,w.elements[7]=0,w.elements[11]=0,w.elements[15]=1,O=_(w)):O=_(c.matrixWorld);const Y=l.objects.get(c);if(Y===void 0||Y.style!==O){C.style.transform=O;const R={style:O};l.objects.set(c,R)}C.parentNode!==m&&m.appendChild(C),c.onAfterRender(i,s,v)}}for(let S=0,C=c.children.length;S<C;S++)f(c.children[S],s,v)}}}const D=["H","Hydrogen","1.00794",1,1,"He","Helium","4.002602",18,1,"Li","Lithium","6.941",1,2,"Be","Beryllium","9.012182",2,2,"B","Boron","10.811",13,2,"C","Carbon","12.0107",14,2,"N","Nitrogen","14.0067",15,2,"O","Oxygen","15.9994",16,2,"F","Fluorine","18.9984032",17,2,"Ne","Neon","20.1797",18,2,"Na","Sodium","22.98976...",1,3,"Mg","Magnesium","24.305",2,3,"Al","Aluminium","26.9815386",13,3,"Si","Silicon","28.0855",14,3,"P","Phosphorus","30.973762",15,3,"S","Sulfur","32.065",16,3,"Cl","Chlorine","35.453",17,3,"Ar","Argon","39.948",18,3,"K","Potassium","39.948",1,4,"Ca","Calcium","40.078",2,4,"Sc","Scandium","44.955912",3,4,"Ti","Titanium","47.867",4,4,"V","Vanadium","50.9415",5,4,"Cr","Chromium","51.9961",6,4,"Mn","Manganese","54.938045",7,4,"Fe","Iron","55.845",8,4,"Co","Cobalt","58.933195",9,4,"Ni","Nickel","58.6934",10,4,"Cu","Copper","63.546",11,4,"Zn","Zinc","65.38",12,4,"Ga","Gallium","69.723",13,4,"Ge","Germanium","72.63",14,4,"As","Arsenic","74.9216",15,4,"Se","Selenium","78.96",16,4,"Br","Bromine","79.904",17,4,"Kr","Krypton","83.798",18,4,"Rb","Rubidium","85.4678",1,5,"Sr","Strontium","87.62",2,5,"Y","Yttrium","88.90585",3,5,"Zr","Zirconium","91.224",4,5,"Nb","Niobium","92.90628",5,5,"Mo","Molybdenum","95.96",6,5,"Tc","Technetium","(98)",7,5,"Ru","Ruthenium","101.07",8,5,"Rh","Rhodium","102.9055",9,5,"Pd","Palladium","106.42",10,5,"Ag","Silver","107.8682",11,5,"Cd","Cadmium","112.411",12,5,"In","Indium","114.818",13,5,"Sn","Tin","118.71",14,5,"Sb","Antimony","121.76",15,5,"Te","Tellurium","127.6",16,5,"I","Iodine","126.90447",17,5,"Xe","Xenon","131.293",18,5,"Cs","Caesium","132.9054",1,6,"Ba","Barium","132.9054",2,6,"La","Lanthanum","138.90547",4,9,"Ce","Cerium","140.116",5,9,"Pr","Praseodymium","140.90765",6,9,"Nd","Neodymium","144.242",7,9,"Pm","Promethium","(145)",8,9,"Sm","Samarium","150.36",9,9,"Eu","Europium","151.964",10,9,"Gd","Gadolinium","157.25",11,9,"Tb","Terbium","158.92535",12,9,"Dy","Dysprosium","162.5",13,9,"Ho","Holmium","164.93032",14,9,"Er","Erbium","167.259",15,9,"Tm","Thulium","168.93421",16,9,"Yb","Ytterbium","173.054",17,9,"Lu","Lutetium","174.9668",18,9,"Hf","Hafnium","178.49",4,6,"Ta","Tantalum","180.94788",5,6,"W","Tungsten","183.84",6,6,"Re","Rhenium","186.207",7,6,"Os","Osmium","190.23",8,6,"Ir","Iridium","192.217",9,6,"Pt","Platinum","195.084",10,6,"Au","Gold","196.966569",11,6,"Hg","Mercury","200.59",12,6,"Tl","Thallium","204.3833",13,6,"Pb","Lead","207.2",14,6,"Bi","Bismuth","208.9804",15,6,"Po","Polonium","(209)",16,6,"At","Astatine","(210)",17,6,"Rn","Radon","(222)",18,6,"Fr","Francium","(223)",1,7,"Ra","Radium","(226)",2,7,"Ac","Actinium","(227)",4,10,"Th","Thorium","232.03806",5,10,"Pa","Protactinium","231.0588",6,10,"U","Uranium","238.02891",7,10,"Np","Neptunium","(237)",8,10,"Pu","Plutonium","(244)",9,10,"Am","Americium","(243)",10,10,"Cm","Curium","(247)",11,10,"Bk","Berkelium","(247)",12,10,"Cf","Californium","(251)",13,10,"Es","Einstenium","(252)",14,10,"Fm","Fermium","(257)",15,10,"Md","Mendelevium","(258)",16,10,"No","Nobelium","(259)",17,10,"Lr","Lawrencium","(262)",18,10,"Rf","Rutherfordium","(267)",4,7,"Db","Dubnium","(268)",5,7,"Sg","Seaborgium","(271)",6,7,"Bh","Bohrium","(272)",7,7,"Hs","Hassium","(270)",8,7,"Mt","Meitnerium","(276)",9,7,"Ds","Darmstadium","(281)",10,7,"Rg","Roentgenium","(280)",11,7,"Cn","Copernicium","(285)",12,7,"Nh","Nihonium","(286)",13,7,"Fl","Flerovium","(289)",14,7,"Mc","Moscovium","(290)",15,7,"Lv","Livermorium","(293)",16,7,"Ts","Tennessine","(294)",17,7,"Og","Oganesson","(294)",18,7];function Ht(){const t=new ct(40,window.innerWidth/window.innerHeight,1,1e4);t.position.z=3e3;const e=new lt,i=[],o={table:[],sphere:[],helix:[],grid:[]};for(let n=0;n<D.length;n+=5){const d=T.div({className:`element w-[120px] h-40 shadow-[0px_0px_12px_rgba(0,255,255,0.5)] border 
      text-center leading-[normal] cursor-default 
      border-solid border-[rgba(127,255,255,0.25)]
      hover:shadow-[0px_0px_12px_rgba(0,255,255,0.75)]  hover:border-[rgba(127,255,255,0.75)]`,s_backgroundColor:"rgba(0,127,127,"+(Math.random()*.5+.25)+")",children(){T.div({className:"number absolute text-xs text-[rgba(127,255,255,0.75)] right-5 top-5",childrenType:"text",children:n/5+1}),T.div({className:"symbol absolute text-6xl font-[bold] text-[rgba(255,255,255,0.75)] top-10 inset-x-0 t",childrenType:"text",s_textShadow:"0 0 10px rgba(0, 255, 255, 0.95)",children:D[n]}),T.div({className:"details absolute text-xs text-[rgba(127,255,255,0.75)] bottom-[15px] inset-x-0",children(){$(D[n+1]),T.br(),$(D[n+2])}})}}),_=new Rt(d);_.position.x=Math.random()*4e3-2e3,_.position.y=Math.random()*4e3-2e3,_.position.z=Math.random()*4e3-2e3,e.add(_),i.push(_);const g=new z;g.position.x=D[n+3]*140-1330,g.position.y=-(D[n+4]*180)+990,o.table.push(g)}const r=new b;for(let n=0,d=i.length;n<d;n++){const _=Math.acos(-1+2*n/d),g=Math.sqrt(d*Math.PI)*_,f=new z;f.position.setFromSphericalCoords(800,_,g),r.copy(f.position).multiplyScalar(2),f.lookAt(r),o.sphere.push(f)}for(let n=0,d=i.length;n<d;n++){const _=n*.175+Math.PI,g=-(n*8)+450,f=new z;f.position.setFromCylindricalCoords(900,_,g),r.x=f.position.x*2,r.y=f.position.y,r.z=f.position.z*2,f.lookAt(r),o.helix.push(f)}for(let n=0;n<i.length;n++){const d=new z;d.position.x=n%5*400-800,d.position.y=-(Math.floor(n/5)%5)*400+800,d.position.z=Math.floor(n/25)*1e3-2e3,o.grid.push(d)}const h=new Lt;h.setSize(window.innerWidth,window.innerHeight),ht(h.domElement);const a=new bt(t,h.domElement);a.minDistance=500,a.maxDistance=6e3;function l(){h.render(e,t)}a.addEventListener("change",l);function p(n,d){x.removeAll();for(let _=0;_<i.length;_++){const g=i[_],f=n[_];new x.Tween(g.position).to({x:f.position.x,y:f.position.y,z:f.position.z},Math.random()*d+d).easing(x.Easing.Exponential.InOut).start(),new x.Tween(g.rotation).to({x:f.rotation.x,y:f.rotation.y,z:f.rotation.z},Math.random()*d+d).easing(x.Easing.Exponential.InOut).start()}new x.Tween(window).to({},d*2).onUpdate(l).start()}T.div({className:"absolute bottom-5 w-full text-center",children(){H("TABLE",()=>{p(o.table,2e3)}),H("SPHERE",()=>{p(o.sphere,2e3)}),H("HELIX",()=>{p(o.helix,2e3)}),H("GRID",()=>{p(o.grid,2e3)})}}),p(o.table,2e3);function y(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight),l()}window.addEventListener("resize",y);function m(){requestAnimationFrame(m),x.update(),a.update()}m()}function H(t,e){T.button({className:`text-[rgba(127,255,255,0.75)] px-2.5 py-[5px] border-0 
    hover:bg-[rgba(0,255,255,0.5)]
    outline-1 outline-solid outline-[rgba(127,255,255,0.75)]`,onClick:e,childrenType:"text",children:t})}export{Ht as default};
