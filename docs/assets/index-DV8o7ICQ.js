import{a as k}from"./onlyMobile-BnCzafOQ.js";import{f as S,c as E,o as D,g as z,a9 as F,ar as I,r as $,s as a,T as f}from"./index-Bn6QTqXa.js";import{r as b,a as t,i as s,c as l,b as w,k as C,j as M,e as T}from"./canvasRender-DlxfwZGY.js";import{f as g}from"./chunk-KZPPZA2C-rvBpA5M9.js";import{O as A}from"./index-XVZQUbQ5.js";import{e as L}from"./explain-BfYJqPeK.js";import{m as R}from"./markdown-EMzCf8Lq.js";import"./_commonjsHelpers-CqkleIqs.js";import"./iconBase-UU481Axx.js";import"./index-BlR3DG8s.js";function V(){L(()=>{R`
#mve-canvas

类似 react-canvas
    `}),k(function({width:d,height:p},X){b(S.canvas({className:"touch-none",s_width(){return`${d()}px`},s_height(){return`${p()}px`}}),()=>{t({width:d,height:p,layout(n){return a({direction:"y",gap:10,alignFix:!0,alignItems:"stretch"})},children(){const n=E(10),m=D(()=>z(n.get()*5,e=>e)),y=t({paddingInline:20,height:20,children(){t({y:20,x(e){return e.parent.axis.x.paddingStart()+n.get()},onPointerDown(e){F(e.original,{onMove(i,r){if(r=="x"){const o=n.get();return{onMove(h){const v=h.pageX-i.pageX;n.set(I(0,v+o,y.axis.x.innerSize()))},onEnd(h){}}}}})},draw({path:e,rect:i}){s(),e.ellipse(0,0,10,10,360,0,360),l("green")}})}});w({paddingInline:10,config(){return{text:`${m().length} 条记录`}}});let u;const c=new A("y",{maxScroll(){return u.axis.y.size()-x.axis.y.size()}}),x=t({grow:1,draw(){s(),l("yellow"),T()},onPointerDown(e){c.pointerEventListner(e.original)},paddingRight:4,children(){u=t({grow:1,width(e){return e.parent.axis.x.innerSize()},y(e){return-c.get()},draw(){s(),l("white")},layout(){return a({direction:"y",alignFix:!0,alignItems:"stretch",gap:4})},children(){console.log("render"),$(m,function(e,i){t({layout(r){return a({direction:"x",gap:4})},skipDraw(r){const o=c.get();return r.axis.y.position()-o>x.axis.y.innerSize()||r.axis.y.position()-o+r.axis.y.size()<0},draw(){s(),l(i()%2?"#A5D2EE":"#EEEEEE")},paddingLeft:4,children(){t({paddingBottom:4,paddingTop:4,height:88,width:80,layout(r){return a({direction:"y"})},children(){C({grow:1,relay:"height",src:g.image.avatarGitHub()})}}),t({layout(r){return a({direction:"y",directionFix:"start",alignFix:!0,alignItems:"start",gap:12})},alignSelf:f("stretch"),grow:1,children(){w({config(){return{text:`${g.person.fullName()}   ${i()}`}}}),M({config:{maxLines:3,text:g.lorem.lines(4),fontSize:"12px"},alignSelf:f("stretch")})}})}})})}})}})}})})})}export{V as default};
