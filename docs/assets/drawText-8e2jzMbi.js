import{i as x,c,ai as f,am as p,o as m,f as v,ag as h,u as w}from"./index-BNMIKCZr.js";function S(){const e=c(0),n=c(0),g=c(!1);x(()=>g.set(!0));const l=c(`TS
类型.  
:(context: SubmitContext<FormData>) => void
表单提交时触发。其中 context.validateResult 表示校验结果，context.firstError 表示校验不通过的第一个规则提醒。context.validateResult 值为 true 表示校验通过；如果校验不通过，context.validateResult 值为校验结果列表。`),r=f({padding:20,width:300,config(){return{maxLines:5,text:l.get()}},draw(t){h(),t.draw(),w(1,"black"),t.ctx.fillStyle="rgba(0, 120, 215, 0.3)",s.draw(t.ctx)},onPointerDown(t){console.log("e",t),e.set(s.getIndex(t)),n.set(e.get()),t.original.currentTarget?.addEventListener("pointermove",u)},onPointerUp(t){t.original.currentTarget?.removeEventListener("pointermove",u),e.get()==n.get()&&i.focus()}}),s=r.helper.withSelect(e.get,n.get);let i;p(document.body,function(){m(()=>g.get()&&s.cursorPosition(),function(){function t(){const o=i.value;console.log(o);const a=l.get(),d=a.slice(0,e.get())+o+a.slice(e.get());l.set(d),e.set(e.get()+o.length),n.set(n.get()+o.length),i.value=""}i=v.input({className:"absolute w-0 h-0",s_left(){return`${r.target.getAbsolute("x")+(s.cursorPosition()?.x||0)}px`},s_top(){return`${r.target.getAbsolute("y")+(s.cursorPosition()?.y||0)}px`},onInput(o){o.isComposing||t()},onCompositionEnd:t})})});function u(t){const o=t.clientX-r.target.getAbsolute("x"),a=t.clientY-r.target.getAbsolute("y");n.set(s.getIndex({x:o,y:a}))}}export{S as default};
