import"./index-SfgOm-p3.js";var f=class p{constructor(t,r){this.left=t,this.right=r}static of(t,r){return new p(t,r)}};function g(n,t){return f.of(n,t)}var o=class l{static UID=0;constructor(t=`_${l.UID++}`){this.flag=t}toString(){return`{${this.flag}}`}equals(t){return t==this||t instanceof l&&t.flag==this.flag}static create(){return new l}},d=class{};function V(n,t){for(;t!=null;){const r=t.left,e=r.left;if(n.equals(e))return r;t=t.right}return null}function u(n,t){if(n instanceof o){const r=V(n,t);return r?u(r.right,t):n}else return n instanceof f?f.of(u(n.left,t),u(n.right,t)):n}function y(n,t,r){return f.of(f.of(n,t),r)}function a(n,t,r){if(n=u(n,r),t=u(t,r),n==t)return[!0,r];if(n instanceof d&&n.equals(t))return[!0,r];if(t instanceof d&&t.equals(n))return[!0,r];if(n instanceof o)return n.equals(t)?[!0,r]:[!0,y(n,t,r)];if(t instanceof o)return t.equals(n)?[!0,r]:[!0,y(t,n,r)];if(n instanceof f&&t instanceof f){const[e,i]=a(n.left,t.left,r);if(e)return a(n.right,t.right,i)}return[!1,null]}function $(...n){return x(n,null)}function x(n,t){const r=n.length-1;let e=t;for(let i=r;i>-1;i--)e=f.of(n[i],e);return e}function q(n){const t=[];for(;n instanceof f;)t.push(n.left),n=n.right;return[t,n]}function*D(n,t,r){for(const e of t(n))yield*r(e)}function s(n,t){return function(r){return D(r,n,t)}}function*I(n,t,r){yield*t(n),yield*r(n)}function P(n,t){return function(r){return I(r,n,t)}}function*S(n,t,r){const[e,i]=a(t,r,n);e&&(yield i)}function c(n,t){return function(r){return S(r,n,t)}}function w(n,t,r){const e=o.create(),i=o.create(),h=o.create();return function(K){return P(s(c(n,null),c(t,r)),s(c(n,g(e,i)),s(c(r,g(e,h)),U=>w(i,t,h)(U))))(K)}}function A(){const n=o.create(),t=o.create();console.log("run...");for(const r of w(n,t,$(1,2,3,4,5,6))(null))console.log("result",q(u(n,r)),q(u(t,r)))}export{A as runG,D as toAnd,I as toOr,S as toUnify};
