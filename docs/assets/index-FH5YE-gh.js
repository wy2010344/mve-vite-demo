import{k as N}from"./index-DTVsSBOz.js";import{f as m,c as P,ao as h,o as C,ap as T,i as X,K as y,a9 as A}from"./index-Dxu4lnfn.js";import{m as D}from"./index-CT0uQ99y.js";import{a as K}from"./onlyMobile-DoxvEJsg.js";import"./index-D2NKKKQE.js";import"./iconBase-BD6ICo6R.js";import"./index-BxY9dVzG.js";import"./canvasRender-CK3mhhFQ.js";import"./_commonjsHelpers-CqkleIqs.js";function W(){K(function(){m.div({className:"touch-none",children(){g({className:"h-150 bg-white",children(s){h(s),g({sub:s,className:"h-100",children(a,x){h(a),g({sub:a,className:"bg-white flex items-center justify-center h-50",children(l){h(l)}})}})}})}})})}const M=T(void 0);function g({sub:s="",className:a="",children:x}){const l=D({getSize(){return $.clientWidth}}),t=[{display:`A${s}`},{display:`B${s}`},{display:`C${s}`}],c=P(t[0].display);N({options:t,value(){return t.find(n=>n.display==c.get())},onChange(n){c.set(n.display)},renderChild(n){h(n.display)}});const v=C(()=>t.findIndex(n=>n.display==c.get())),$=m.div({className:"relative overflow-hidden",children(n){l.hookCompare(v,function(p,f){return p-f}),m.div({s_transform(){return`translateX(${-l.get()}px)`},children(){const p=M.consume();function f(i){return l.getMoveEvent(i,"x",{callback(u,r){const o=t[v()+u];return o?(c.set(o.display),!1):!0}})}X(C(()=>{const i=c.get(),u=v(),r=[],o=t[u-1];o&&r.push({key:o.display,step:"before"}),r.push({key:i});const d=t[u+1];return d&&r.push({key:d.display,step:"after"}),r}),i=>i.key,function(i,u,r){function o(e){return r==t[0].display?p?.left?.(e):f(e)}function d(e){return r==t.at(-1)?.display?p?.right?.(e):f(e)}function b(e){A(e,{onMove(w,k,I){if(k=="x")return I.x>0?o(w):d(w)}})}M.provide({move:b,left:o,right:d}),m.div({className(){const e=i();return e.step=="before"?y`absolute top-0 w-full h-full right-full ${a}`:e.step=="after"?y`absolute top-0 w-full h-full left-full ${a}`:y`${a}`},s_border:"1px solid gray",onPointerDown(e){e.stopPropagation(),b(e)},children(){x(r,f)}})})}})}})}export{W as default};
