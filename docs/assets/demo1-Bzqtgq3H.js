import{a4 as a,c as N,q as T,e as l,a5 as A,D as L,v as M,a6 as K,a7 as X,b as y,a8 as Y,a9 as $}from"./index-C09L67qZ.js";import q from"./graph-BB3NgaJ2.js";import{c as w,o as B}from"./transform-W4V8p7Sk.js";import{m as W,f as C,a as R,b as m,i as _,c as E,t as I,e as O,d as P}from"./forceLayout-BPinnqDe.js";const j=w("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),u=800,h=800,z=.001;function U(){const p=a.svg({width:u,height:h,viewBox:`-400 -400 ${u} ${h}`,s_maxWidth:"100%",s_height:"auto",children(){const b=B(j),c=N(q),o=T(e=>W({nodes:(e==null?void 0:e.nodes)||l,links:(e==null?void 0:e.links)||l,fromLinks:c.get().links,fromNodes:c.get().nodes,createForceNode(t,s,n){return _(t,2,s,P,O)},getNodeKey(t){return t.id},getSorceKey(t){return t.source},getTargetKey(t){return t.target},createFromKey(t){return{id:t,group:"not-found"}}})),r=A(E()),k=()=>r.alpha<z,x=C(),S=R(),v=m("x"),D=m("y");function g(){const e=o();I(r,e.nodes,t=>{x(e.links,r.nDim,t),S(e.nodes,r.nDim,t),v(e.nodes,t),D(e.nodes,t)})}let d=M;L(k,e=>{if(e){d();return}d=K(()=>{g(),X()})}),y(()=>o().links,e=>a.g({stroke:"#999",strokeOpacity:.6,children(){a.line({x1:e.source.x.dSignal.get,y1:e.source.y.dSignal.get,x2:e.target.x.dSignal.get,y2:e.target.y.dSignal.get,strokeWidth:Math.sqrt(e.value.value)})}})),y(()=>o().nodes,e=>a.g({stroke:"#fff",strokeWidth:1.5,children(){a.circle({r:5,cx:e.x.dSignal.get,cy:e.y.dSignal.get,fill:b(e.value.group),...Y(t=>{const s=p.getBoundingClientRect(),n=s.left+s.width/2,f=s.top+s.height/2;e.x.f=t.pageX-n,e.y.f=t.pageY-f,r.alphaTarget=.3,g();const F=$(i=>{i?(e.x.f=i.pageX-n,e.y.f=i.pageY-f):(e.x.f=void 0,e.y.f=void 0,r.alphaTarget=0,F())})})})}}))}})}export{U as default};
