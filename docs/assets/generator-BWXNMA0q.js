import"./index-DQyCy5E-.js";var K=Object.defineProperty,P=(n,t,r)=>t in n?K(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,U=(n,t,r)=>(P(n,t+"",r),r);class i{constructor(t,r){this.left=t,this.right=r}static of(t,r){return new i(t,r)}}function g(n,t){return i.of(n,t)}const y=class l{constructor(t=`_${l.UID++}`){this.flag=t}toString(){return`{${this.flag}}`}equals(t){return t==this||t instanceof l&&t.flag==this.flag}static create(){return new l}};U(y,"UID",0);let o=y;class d{}function m(n,t){for(;t!=null;){const r=t.left,e=r.left;if(n.equals(e))return r;t=t.right}return null}function u(n,t){if(n instanceof o){const r=m(n,t);return r?u(r.right,t):n}else return n instanceof i?i.of(u(n.left,t),u(n.right,t)):n}function p(n,t,r){return i.of(i.of(n,t),r)}function a(n,t,r){if(n=u(n,r),t=u(t,r),n==t)return[!0,r];if(n instanceof d&&n.equals(t))return[!0,r];if(t instanceof d&&t.equals(n))return[!0,r];if(n instanceof o)return n.equals(t)?[!0,r]:[!0,p(n,t,r)];if(t instanceof o)return t.equals(n)?[!0,r]:[!0,p(t,n,r)];if(n instanceof i&&t instanceof i){const[e,f]=a(n.left,t.left,r);if(e)return a(n.right,t.right,f)}return[!1,null]}function x(...n){return D(n,null)}function D(n,t){const r=n.length-1;let e=t;for(let f=r;f>-1;f--)e=i.of(n[f],e);return e}function q(n){const t=[];for(;n instanceof i;)t.push(n.left),n=n.right;return[t,n]}function*I(n,t,r){for(const e of t(n))yield*r(e)}function s(n,t){return function(r){return I(r,n,t)}}function*S(n,t,r){yield*t(n),yield*r(n)}function A(n,t){return function(r){return S(r,n,t)}}function*O(n,t,r){const[e,f]=a(t,r,n);e&&(yield f)}function c(n,t){return function(r){return O(r,n,t)}}function w(n,t,r){const e=o.create(),f=o.create(),h=o.create();return function(V){return A(s(c(n,null),c(t,r)),s(c(n,g(e,f)),s(c(r,g(e,h)),_=>w(f,t,h)(_))))(V)}}function E(){const n=o.create(),t=o.create();console.log("run...");for(const r of w(n,t,x(1,2,3,4,5,6))(null))console.log("result",q(u(n,r)),q(u(t,r)))}export{E as runG,I as toAnd,S as toOr,O as toUnify};
