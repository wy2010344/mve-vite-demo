import{bt as p,f as a,c as y,bu as m,bv as g,bw as b,bx as $,by as c,bz as N,bA as T,bB as x,bC as A,bD as v}from"./index-CnmbM-dR.js";function C(t,r){const e=p(r);return setTimeout(e,t),e}function l(t){return C(3e3,function(){a.div({className:"daisy-toast daisy-toast-top daisy-toast-center",children(){a.div({className:"daisy-alert daisy-alert-error",children(){a.span({childrenType:"text",children:t})}})}})})}const X=A.concat("=/>".split("").map(t=>t.charCodeAt(0))),o=$(T(x(...X),1),N),w=b([c(34),c(123,125)]),G=g(o,o,w);function R(){const t=y("");a.button({className:"daisy-btn daisy-btn-primary",childrenType:"text",children:"读取剪切版",async onClick(){const r=await navigator.clipboard.readText();if(!r){l("没读取到文字");return}try{let e=m(r,G);e=h(e),console.log("node",e);const s=f(e);console.log("nodes",s),t.set(s),navigator.clipboard.writeText(s)}catch(e){l(`解析xml失败:${e}`)}}}),a.div({className:"daisy-mockup-code w-full",children(){a.pre({children(){a.code({childrenType:"text",children:t.get})}})}})}function P(t){return typeof t=="string"?t:{...t,children:h(t.children)}}function h(t){return t.filter(r=>typeof r=="string"?r.trim():!0).map(P)}function f(t){return t.map(F).join(`
`)}const d="aria-",u="data-";function F(t){if(typeof t=="string")return`renderText\`${t.trim()}\``;{const r=[];for(const e in t.attrs){const s=t.attrs[e];let i=e;if(e.startsWith(d)&&(i=`aria_${e.slice(d.length)}`),e.startsWith(u)&&(i=`data_${e.slice(u.length)}`),e=="class"&&(i="className"),typeof s=="string"){let n="'";s.includes("'")&&(n="`"),isNaN(Number(s))||(n=""),r.push(`${i}:${n}${s}${n},`)}else r.push(`${i}:${s},`)}if(t.children.length){let e=!0;if(t.children.length==1){const s=t.children[0];typeof s=="string"&&(r.push("childrenType:'text',",`children:\`${s}\`,`),e=!1)}e&&r.push(`children(){
           ${f(t.children)}
        }`)}return`${v(t.type)?"fsvg":"fdom"}.${t.type}({
      ${r.join(`
`)}
    })`}}export{R as default};
