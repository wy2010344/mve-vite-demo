var p=Object.defineProperty;var I=(i,t,n)=>t in i?p(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var l=(i,t,n)=>I(i,typeof t!="symbol"?t+"":t,n);import{k as b}from"./index-CnmbM-dR.js";const m=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#5f27cd"];function q(i){return b(i,t=>({id:t,x:Math.random()*400+50,y:Math.random()*200+50,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*8,radius:Math.random()*15+10,color:m[t%m.length],selected:!1,trail:[]}))}function A(i,t,n){const{gravity:x,bounce:e,containerWidth:h,containerHeight:f}=t;return i.map(y=>{const a={...y};return a.x+=a.vx,a.y+=a.vy,a.vy+=x,a.x-a.radius<=0&&(a.x=a.radius,a.vx*=-e),a.x+a.radius>=h&&(a.x=h-a.radius,a.vx*=-e),a.y-a.radius<=0&&(a.y=a.radius,a.vy*=-e),a.y+a.radius>=f&&(a.y=f-a.radius,a.vy*=-e),i.forEach(s=>{if(s.id!==y.id){const r=a.x-s.x,c=a.y-s.y,v=Math.sqrt(r*r+c*c),d=a.radius+s.radius;if(v<d){const o=Math.atan2(c,r),M=s.x+Math.cos(o)*d,g=s.y+Math.sin(o)*d;a.x=M,a.y=g;const u=Math.sqrt(a.vx*a.vx+a.vy*a.vy);a.vx=Math.cos(o)*u*.8,a.vy=Math.sin(o)*u*.8}}}),n?(a.trail.push({x:a.x,y:a.y,opacity:1}),a.trail.length>20&&a.trail.shift(),a.trail.forEach((s,r)=>{s.opacity=r/a.trail.length*.6})):a.trail=[],a})}class B{constructor(t,n){l(this,"animationId",null);l(this,"animate",()=>{this.updateCallback(),this.isPlayingGetter()?this.animationId=requestAnimationFrame(this.animate):this.animationId=null});this.updateCallback=t,this.isPlayingGetter=n}start(){this.animationId||this.animate()}stop(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}}export{B as AnimationManager,q as createBalls,A as updateBallPhysics};
