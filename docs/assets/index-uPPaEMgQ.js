import{f as d}from"./chunk-KZPPZA2C-rvBpA5M9.js";import{g as v,c as i,f as n,a1 as S,aO as y,aP as C,an as L,m as I,aQ as T}from"./index-SfgOm-p3.js";import g from"./hookMeasureHeight-DIVb1acH.js";import{e as V}from"./explain-DlMVcsDo.js";import{m as $}from"./markdown-CAB1_hk6.js";import{dynamicHeightWithId as k,forEachSub as w}from"./dynamicHeight-DfzRsdUq.js";import"./iconBase-BQ1OgeWz.js";import"./index-BtwjPKRt.js";function P(){V(function(){$`
这个是用原生的滚动,每个 item 的高度不固定
未出现的高度依平均高度
    `});const l=v(1e3,e=>({id:e,color:d.color.rgb(),content:d.lorem.lines()})),r=i(l),a=i(0),u=n.div({className:" w-[90%] h-[90%] overflow-y-auto border-red-100 border-1",onScroll(e){a.set(u.scrollTop)},children(e){const s=i(0);g(e,()=>{s.set(e.clientHeight),S()});const{getHeightWithId:h,averageHeight:m,updateHeight:p}=k();function f(t){return h(t.id)}const{paddingBegin:b,subList:x}=y(()=>T(r.get(),a.get(),s.get(),f));n.div({s_height(){return`${m()*r.get().length}px`},s_paddingTop(){return`${b()}px`},children(){C(w(r.get,t=>t.id,x),function(t,o){const c=n.div({s_background(){return o.getValue().color},children(){L(()=>`${o.getValue().id}--${o.getIndex()}`),n.input({className:"daisy-input daisy-input-xs"}),I.p().renderTextContent(()=>o.getValue().content)}});g(c,function(){const H=c.offsetHeight;p(t,H)})})}})}})}export{P as default};
