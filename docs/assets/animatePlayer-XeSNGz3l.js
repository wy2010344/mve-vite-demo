import{movesQueue as i,stepCompleted as l,position as f,player as e}from"./Player-Cy3zZv9c.js";import{tileSize as r}from"./constants-D9wMxaBn.js";import{ch as c,cg as m}from"./three.core-Bu5rU7E4.js";import"./endsUpInValidPosition-9sjQjpQm.js";import"./calculateFinalPosition-DP2hh8aV.js";import"./Map-B9WyMSq1.js";import"./Grass-BavhgwY0.js";import"./Three-Bivhf_TF.js";import"./Road-C2uemW3h.js";import"./Car-Q5T3l03N.js";import"./Wheel-C03bxVnY.js";import"./Truck-CQI_NzhJ.js";import"./generateRows-bVBXo6dn.js";import"./index-CnmbM-dR.js";const n=new c(!1);function x(){if(!i.length)return;n.running||n.start();const t=Math.min(1,n.getElapsedTime()/.2);h(t),d(t),t>=1&&(l(),n.stop())}function h(o){const t=f.currentTile*r,s=f.currentRow*r;let a=t,p=s;i[0]==="left"&&(a-=r),i[0]==="right"&&(a+=r),i[0]==="forward"&&(p+=r),i[0]==="backward"&&(p-=r),e.position.x=m.lerp(t,a,o),e.position.y=m.lerp(s,p,o),e.children[0].position.z=Math.sin(o*Math.PI)*8}function d(o){let t=0;i[0]=="forward"&&(t=0),i[0]=="left"&&(t=Math.PI/2),i[0]=="right"&&(t=-Math.PI/2),i[0]=="backward"&&(t=Math.PI),e.children[0].rotation.z=m.lerp(e.children[0].rotation.z,t,o)}export{x as animatePlayer};
