import{z as D,aS as r,c as m,Q as d,aZ as E}from"./index-BeB-7kZt.js";import h from"./columnBase-3zYH6-Kh.js";import{HookRender as v}from"./xmlRender-BS0y7sRj.js";import{taskContext as T}from"./context-IzpEcO2D.js";import g from"./cardBase-CBJv82-P.js";import"./type-DRAuYFMP.js";import"./chunk-KZPPZA2C-rvBpA5M9.js";import"./index-Cw7y7Wej.js";import"./iconBase-loNxg2Lh.js";import"./mve-icon-BrTsJoJp.js";function Q({title:c,type:n}){const{tasks:a,dragData:s,dragTask:u,createListContainer:p}=T.consume(),i=D(function(){return a.get().filter(e=>{if(e.type!=n)return!1;const t=s.get();return!(t&&e.id==t.id&&!t.onDropEnd.get())})}),{renderChildren:f,plugin:k}=p({getList:i,getId(e){return e.id},accept(e){return"move"},createDragData(e,t){return{...E(e),id:t,activeContainer:m(null),dragX:d(0),dragY:d(0),onDropEnd:m(!1)}},preview(e,t){r.renderChild(r.createElement(g,{className:"opacity-1",getTask:u,plugin:o=>{t.targetPlaceholder={element:o,type:n,getBeforeId(){return i()[e()]?.id}}}}))}});return r.createElement(h,{type:n,title:c,tasks:a.original,getTasks:i,plugin:k},r.createElement(v,{render:()=>{f(function({key:e,getData:t,plugin:o,onPointerDown:l}){r.renderChild(r.createElement(g,{plugin:o,onDelete:()=>{a.original.set(a.original.get().filter(C=>C.id!=e))},className:()=>s.get()?.id==e?"opacity-0":"",getTask:t,onPointerDown:l}))})}}))}export{Q as default};
