var m=Date.now||function(){return+new Date},w=60,q=1e3,u={},S=1;function g(i){var s=u[i]!=null;return s&&(u[i]=null),s}function z(i,s,t,v,A){const f=m();var D=f,n=0,a=0;const r=S++,F=function(x){const o=x!==!0,e=m();if(!u[r]||s&&!s(r)){u[r]=null,t==null||t(w-a/((e-f)/q),r,!1);return}if(o){const P=Math.round((e-D)/(q/w))-1;for(var h=0;h<Math.min(P,4);h++)F(!0),a++}v&&(n=(e-f)/v,n>1&&(n=1));var M=A?A(n):n;(i(M,e,o)===!1||n===1)&&o?(u[r]=null,t==null||t(w-a/((e-f)/q),r,n===1||v==null)):o&&(D=e,requestAnimationFrame(F))};return u[r]=!0,requestAnimationFrame(F),r}export{z as start,g as stop};
