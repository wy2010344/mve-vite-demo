import{f as g}from"./chunk-LSEVNFON-G8OzWBoO.js";import{b as d,c as l,g as i,aq as p,O as f,m as b,bH as x,bz as S,G as y,bI as H}from"./index-BdTCZeBf.js";import{e as k}from"./explain-Yn3lRy9J.js";import{m as L}from"./markdown-DrXMDjjS.js";import V from"./hookMeasureHeight-ZPkx-NPi.js";import{forEachSub as _}from"./dynamicHeight-CeHAAKfO.js";import"./iconBase-C9j_FKPc.js";import"./index-D--gOgnP.js";function O(){k(()=>{L`
# 虚拟列表,自定义滚动

这个虚拟列表,需要每条记录提供自己的高度,这个高度是预先于dom渲染存在的.

自定义滚动,基于animateSignal动画,动画曲线是模仿flutter的Clamping算法,带有一定的弹性.
`});const m=d(1e3,r=>({id:r,color:g.color.rgb(),height:g.number.int({min:30,max:80})})),n=l(m);i.div({className:"touch-none w-[90%] h-[90%] overflow-hidden border-red-100 border-1",children(r){const o=l(0);V(r,()=>{o.set(r.clientHeight),p()});const s=f.hookGet("y",r,{maxScroll:b(()=>{const e=n.get();let t=0;for(let a=0;a<e.length;a++)t=t+e[a].height;return t-o.get()})});function u(e){return e.height}const{paddingBegin:h,subList:c}=x(()=>H(n.get(),s.get(),o.get(),u));i.div({s_transform(){return`translateY(${-s.get()}px)`},s_paddingTop(){return h()+"px"},children(){S(_(n.get,e=>e.id,c),function(e,t){i.div({className:"flex items-center justify-center min-h-0",s_height(){return t.getValue().height+"px"},s_maxHeight(){return t.getValue().height+"px"},s_background(){return t.getValue().color},children(){y(()=>t.getValue().id+"--"),i.input({className:"daisy-input daisy-input-xs"})}})})}})}})}export{O as default};
