import{c as g,b as y,f as n}from"./index-SfgOm-p3.js";import{panel as N}from"./WindowManager-CNIQp0k9.js";import"./index-BBmTqfCf.js";import"./index-PeN622_I.js";import"./canvasRender-DwJvwbpB-BWU3cVJm.js";import"./_commonjsHelpers-CqkleIqs.js";import"./index-DFXa7QPV.js";import"./iconBase-BQ1OgeWz.js";import"./index-BxY9dVzG.js";const O=N(function(x){return{title:"å¤æ‚è¡¨å•éªŒè¯",icon:"ğŸ“",width:700,height:800,children(){const t=g({username:"",email:"",password:"",confirmPassword:"",age:"",phone:"",agreement:!1}),s=g({}),a=g(new Set),o=g(!1),d=g(!1),i=g(new Set),u={username:async e=>e?e.length<3?"ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦":/^[a-zA-Z0-9_]+$/.test(e)?(i.set(new Set(i.get()).add("username")),await new Promise(r=>setTimeout(r,500)),i.set(new Set([...i.get()].filter(r=>r!=="username"))),e.toLowerCase()==="admin"?"è¯¥ç”¨æˆ·åå·²è¢«å ç”¨":""):"ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿":"ç”¨æˆ·åä¸èƒ½ä¸ºç©º",email:e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"":"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®":"é‚®ç®±ä¸èƒ½ä¸ºç©º",password:e=>e?e.length<6?"å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e)?"":"å¯†ç å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—":"å¯†ç ä¸èƒ½ä¸ºç©º",confirmPassword:e=>e?e!==t.get().password?"ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´":"":"è¯·ç¡®è®¤å¯†ç ",age:e=>{if(!e)return"å¹´é¾„ä¸èƒ½ä¸ºç©º";const r=parseInt(e);return isNaN(r)?"å¹´é¾„å¿…é¡»æ˜¯æ•°å­—":r<18||r>100?"å¹´é¾„å¿…é¡»åœ¨18-100ä¹‹é—´":""},phone:e=>e?/^1[3-9]\d{9}$/.test(e)?"":"æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®":"æ‰‹æœºå·ä¸èƒ½ä¸ºç©º",agreement:e=>e?"":"è¯·é˜…è¯»å¹¶åŒæ„ç”¨æˆ·åè®®"};async function l(e){const r=u[e];if(!r)return;const p=t.get()[e],h=await r(p),m={...s.get()};h?m[e]=h:delete m[e],s.set(m)}async function b(){const e=t.get(),r={};for(const p of Object.keys(u)){const h=u[p],m=await h(e[p]);m&&(r[p]=m)}return s.set(r),Object.keys(r).length===0}function c(e){const r=new Set(a.get());r.add(e),a.set(r)}async function w(){a.set(new Set(Object.keys(u))),await b()&&(o.set(!0),await new Promise(r=>setTimeout(r,1500)),o.set(!1),d.set(!0),setTimeout(()=>{d.set(!1),t.set({username:"",email:"",password:"",confirmPassword:"",age:"",phone:"",agreement:!1}),s.set({}),a.set(new Set)},2e3))}y(()=>{const e=t.get();a.get().has("confirmPassword")&&e.confirmPassword&&l("confirmPassword")}),n.div({className:"w-full h-full flex flex-col bg-gradient-to-br from-blue-50 to-purple-50",children(){n.div({className:"h-16 bg-white border-b border-gray-200 flex items-center px-6",children(){n.h2({className:"text-xl font-bold text-gray-800",childrenType:"text",children:"ç”¨æˆ·æ³¨å†Œè¡¨å•"})}}),n.div({className:"flex-1 overflow-auto p-6",children(){n.div({className:"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8",children(){f({label:"ç”¨æˆ·å",field:"username",type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·åï¼ˆè¯•è¯•è¾“å…¥ adminï¼‰",formData:t,errors:s,touched:a,asyncValidating:i,validateField:l,markTouched:c}),f({label:"é‚®ç®±",field:"email",type:"email",placeholder:"è¯·è¾“å…¥é‚®ç®±",formData:t,errors:s,touched:a,asyncValidating:i,validateField:l,markTouched:c}),f({label:"å¯†ç ",field:"password",type:"password",placeholder:"è‡³å°‘6ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—",formData:t,errors:s,touched:a,asyncValidating:i,validateField:l,markTouched:c}),f({label:"ç¡®è®¤å¯†ç ",field:"confirmPassword",type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç ",formData:t,errors:s,touched:a,asyncValidating:i,validateField:l,markTouched:c}),n.div({className:"grid grid-cols-2 gap-4",children(){f({label:"å¹´é¾„",field:"age",type:"number",placeholder:"18-100",formData:t,errors:s,touched:a,asyncValidating:i,validateField:l,markTouched:c}),f({label:"æ‰‹æœºå·",field:"phone",type:"tel",placeholder:"è¯·è¾“å…¥æ‰‹æœºå·",formData:t,errors:s,touched:a,asyncValidating:i,validateField:l,markTouched:c})}}),n.div({className:"mb-6",children(){n.label({className:"flex items-start gap-2 cursor-pointer",children(){n.input({type:"checkbox",className:"mt-1",checked(){return t.get().agreement},onInput(e){const r=t.get();t.set({...r,agreement:e.target.checked}),c("agreement"),l("agreement")}}),n.span({className:"text-sm text-gray-600",childrenType:"text",children:"æˆ‘å·²é˜…è¯»å¹¶åŒæ„ã€Šç”¨æˆ·åè®®ã€‹å’Œã€Šéšç§æ”¿ç­–ã€‹"})}}),n.div({s_display(){return a.get().has("agreement")&&s.get().agreement?"block":"none"},className:"text-red-500 text-xs mt-1",childrenType:"text",children(){return s.get().agreement||""}})}}),n.button({className:"w-full py-3 rounded-lg font-medium text-white transition-colors",s_backgroundColor(){return o.get()?"#9ca3af":"#3b82f6"},s_cursor(){return o.get()?"not-allowed":"pointer"},disabled(){return o.get()},onClick:w,childrenType:"text",children(){return o.get()?"æäº¤ä¸­...":d.get()?"âœ“ æ³¨å†ŒæˆåŠŸï¼":"æ³¨å†Œ"}}),n.div({className:"mt-4 text-center text-sm text-gray-500",children(){n.div({childrenType:"text",children(){const e=Object.keys(s.get()).length;return e>0?`è¿˜æœ‰ ${e} ä¸ªå­—æ®µéœ€è¦ä¿®æ­£`:"æ‰€æœ‰å­—æ®µéªŒè¯é€šè¿‡ âœ“"}})}})}})}})}})}}});function f({label:x,field:t,type:s,placeholder:a,formData:o,errors:d,touched:i,asyncValidating:u,validateField:l,markTouched:b}){n.div({className:"mb-4",children(){n.label({className:"block text-sm font-medium text-gray-700 mb-1",childrenType:"text",children:x}),n.div({className:"relative",children(){n.input({type:s,placeholder:a,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",s_borderColor(){return i.get().has(t)&&d.get()[t]?"#ef4444":"#d1d5db"},value(){return o.get()[t]},onInput(c){const w=o.get();o.set({...w,[t]:c.target.value})},onBlur(){b(t),l(t)}}),n.div({s_display(){return u.get().has(t)?"block":"none"},className:"absolute right-3 top-1/2 -translate-y-1/2",children(){n.div({className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}})}}),n.div({s_display(){return i.get().has(t)&&d.get()[t]?"block":"none"},className:"text-red-500 text-xs mt-1",childrenType:"text",children(){return d.get()[t]||""}})}})}export{O as FormValidationApp};
