import{b as I}from"./index-DBTM5-Ib.js";import{f as h,a1 as P,c as T,P as m,z as C,aN as X,n as z,a7 as y,aC as A}from"./index-B26XVUiJ.js";import{a as D}from"./onlyMobile-Bxw5NbBD.js";import"./index-BRwFIcKy.js";import"./iconBase-DrttcOin.js";import"./index-BxY9dVzG.js";function K(){D(function(){h.div({className:"touch-none",children(){g({className:"h-150 bg-white",children(s){m(s),g({sub:s,className:"h-100",children(a,x){m(a),g({sub:a,className:"bg-white flex items-center justify-center h-50",children(l){m(l)}})}})}})}})})}const M=X(void 0);function g({sub:s="",className:a="",children:x}){const l=P({getSize(){return $.clientWidth}}),t=[{display:`A${s}`},{display:`B${s}`},{display:`C${s}`}],c=T(t[0].display);I({options:t,value(){return t.find(n=>n.display==c.get())},onChange(n){c.set(n.display)},renderChild(n){m(n.display)}});const v=C(()=>t.findIndex(n=>n.display==c.get())),$=h.div({className:"relative overflow-hidden",children(n){l.hookCompare(v,function(p,f){return p-f}),h.div({s_transform(){return`translateX(${-l.get()}px)`},children(){const p=M.consume();function f(i){return l.getMoveEvent(i,"x",{callback(u,r){const o=t[v()+u];return o?(c.set(o.display),!1):!0}})}z(C(()=>{const i=c.get(),u=v(),r=[],o=t[u-1];o&&r.push({key:o.display,step:"before"}),r.push({key:i});const d=t[u+1];return d&&r.push({key:d.display,step:"after"}),r}),i=>i.key,function(i,u,r){function o(e){return r==t[0].display?p?.left?.(e):f(e)}function d(e){return r==t.at(-1)?.display?p?.right?.(e):f(e)}function b(e){A(e,{onMove(w,N,k){if(N=="x")return k.x>0?o(w):d(w)}})}M.provide({move:b,left:o,right:d}),h.div({className(){const e=i();return e.step=="before"?y`absolute top-0 w-full h-full right-full ${a}`:e.step=="after"?y`absolute top-0 w-full h-full left-full ${a}`:y`${a}`},s_border:"1px solid gray",onPointerDown(e){e.stopPropagation(),b(e)},children(){x(r,f)}})})}})}})}export{K as default};
