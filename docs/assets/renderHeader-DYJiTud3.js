import{m as N,M as P,W as S,g as o,aG as $,H as E,Q as I,k as V,Y as p,O,aH as q,a as g,h as H,ap as h,B as j,$ as k,T as v,U as w,e as z,z as B,ak as G,am as U,F as X}from"./index-DSI5ljsY.js";import K from"./hookTrackLayout-CQyBOy8u.js";import{firstDayOfWeekIndex as M,WEEKTIMES as L}from"./firstDayOfWeek-CB03lQN2.js";import Q from"./renderCalendar-D8lQNLbh.js";import{topContext as R}from"./context-C2Qx9kSc.js";import{I as _}from"./index-RKAapfHR.js";import J from"./renderWeekday-CYWIvH5a.js";import{selectShadowCell as Z}from"./renderCell-C-eH4tgB.js";import{a as T}from"./index-cHHGad51.js";import"./index--WBo1qrp.js";import"./iconBase-C0LW6USm.js";X.get();function ue(r,C){const{calendarScrollY:f,calendarClose:W,showCalendar:l,calendarScroll:D,calendarFinish:A,today:c}=R.consume();K(r.get,Z);const d=N(a=>{const s=r.get();return new P(s.year,s.month,M.get())}),x=N(()=>{const a=r.get();return S.from(a.year,a.month,a.day,M.get())});o.div({className:"relative",onPointerDown:$(function(){return{onMove(a,s){if(s=="y")return G.from(a,{getPage:U,scrollDelta(m,y){D(m,y)},onFinish(m){A(m)}})}}}),children(){const a=E(0),s=I(a,m);s.hookCompare(x,function(t,e){return l()?0:t.cells[0].toNumber()-e.cells[0].toNumber()}),s.hookCompare(d,function(t,e){return l()?t.toNumber()-e.toNumber():0});function m(){return y.clientWidth}const y=o.div({className:"overflow-hidden  bg-base-300 touch-none",onPointerDown:s.getOnPointerDown({direction:"x",callback(t,e){if(l()){const n=t<0?d().lastMonth():d().nextMonth();r.get().day>n.days?r.set(p.from(n.year,n.month,n.days)):r.set(p.from(n.year,n.month,r.get().day))}else{const n=O(r.get());n.setTime(n.getTime()+t*L),t&&r.set(p.fromDate(n))}}}),children(){o.div({className:"relative",s_transform(){return`translateX(${-a.get()}px)`},children(){V(l,function(){g(v(()=>{const t=d();return[t.lastMonth(),t,t.nextMonth()]},w),function(t,e){Q(t,e,f,r,C)})},function(){g(v(()=>{const t=x();return[t.beforeWeek(),t,t.nextWeek()]},w),function(t,e){J(t,e,r)})})}})}});o.div({className:"w-full h-11 flex justify-between items-center [padding-inline:18px] bg-base-100 z-10",children(){o.div({className:"flex items-center gap-1",children(){const t=q(()=>{const e=c().toNumber(),n=r.get().toNumber();return e!=n?[1]:z});g(t,function(e){const n=o.button({className:"daisy-btn daisy-btn-xs daisy-btn-circle",onClick(){r.set(c())},children(){_()}});H((i=B)=>{const u=e.step(),F=c().toNumber(),Y=r.get().toNumber(),b=Math.sign(Y-F);return u==i.step&&b==i.dir?i:{step:u,dir:b}},function({step:i,dir:u}){i=="enter"?T(n,{rotateY:u>0?[90,0]:[90,180]}).then(e.resolve):i=="exiting"&&T(n,{rotateY:u>0?[0,90]:[180,90]}).then(e.resolve)})}),o.h1({className(){const e=c(),n=r.get();return j("text-2xl text-base-content font-bold",e.equals(n)?"text-2xl":e.year==n.year?"text-xl":"text-lg",f.onAnimation()?k`cursor-not-allowed`:k`cursor-pointer`)},childrenType:"text",children(){const e=r.get();return c().year!=e.year?`${e.year}-${h(e.month,2)}-${h(e.day,2)}`:`${h(e.month,2)}-${h(e.day,2)}`},onClick(){f.onAnimation()||(l()?W():f.animateTo(0))}})}}),o.div({className:"text-base-content",children(){o.span({className:"mr-[0.125em] text-2xl",childrenType:"text",children:"Â¥"}),o.span({className:"text-2xl",childrenType:"text",children:"23"}),o.sup({className:"opacity-50 text-[0.75em] -top-[0.75em]",childrenType:"text",children:".00"})}})}})}})}export{ue as default};
