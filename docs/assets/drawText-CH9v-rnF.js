import{c,b as x,X as f,j as p,f as m}from"./index-SfgOm-p3.js";import{j as v,i as b,d as h}from"./canvasRender-DwJvwbpB-BWU3cVJm.js";import"./_commonjsHelpers-CqkleIqs.js";function E(){const e=c(0),n=c(0),g=c(!1);x(()=>g.set(!0));const l=c(`TS
类型.  
:(context: SubmitContext<FormData>) => void
表单提交时触发。其中 context.validateResult 表示校验结果，context.firstError 表示校验不通过的第一个规则提醒。context.validateResult 值为 true 表示校验通过；如果校验不通过，context.validateResult 值为校验结果列表。`),s=v({padding:20,width:300,config(){return{maxLines:5,text:l.get()}},draw(t){b(),t.draw(),h(1,"black"),t.ctx.fillStyle="rgba(0, 120, 215, 0.3)",r.draw(t.ctx)},onPointerDown(t){console.log("e",t),e.set(r.getIndex(t)),n.set(e.get()),t.original.currentTarget?.addEventListener("pointermove",u)},onPointerUp(t){t.original.currentTarget?.removeEventListener("pointermove",u),e.get()==n.get()&&i.focus()}}),r=s.helper.withSelect(e.get,n.get);let i;f(document.body,function(){p(()=>g.get()&&r.cursorPosition(),function(){function t(){const o=i.value;console.log(o);const a=l.get(),d=a.slice(0,e.get())+o+a.slice(e.get());l.set(d),e.set(e.get()+o.length),n.set(n.get()+o.length),i.value=""}i=m.input({className:"absolute w-0 h-0",s_left(){return`${s.target.getAbsolute("x")+(r.cursorPosition()?.x||0)}px`},s_top(){return`${s.target.getAbsolute("y")+(r.cursorPosition()?.y||0)}px`},onInput(o){o.isComposing||t()},onCompositionEnd:t})})});function u(t){const o=t.clientX-s.target.getAbsolute("x"),a=t.clientY-s.target.getAbsolute("y");n.set(r.getIndex({x:o,y:a}))}}export{E as default};
