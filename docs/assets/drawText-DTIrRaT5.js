import{c as i,i as p,ai as m,ao as v,am as w,o as b,f as h,w as S,u as E}from"./index-CnmbM-dR.js";function I(){const o=i(0),n=i(0),u=i(!1);p(()=>u.set(!0));const c=i(`TS
类型.  
:(context: SubmitContext<FormData>) => void
表单提交时触发。其中 context.validateResult 表示校验结果，context.firstError 表示校验不通过的第一个规则提醒。context.validateResult 值为 true 表示校验通过；如果校验不通过，context.validateResult 值为校验结果列表。`),r=m({width:300,drawInfo:{},config(){return{maxLines:5,text:c.get()}},draw(e,t,s){S(),E(1,"black"),e.fillStyle="rgba(0, 120, 215, 0.3)",f(e)},onPointerDown(e){var t;o.set(g(e)),n.set(o.get()),(t=e.original.currentTarget)==null||t.addEventListener("pointermove",d)},onPointerUp(e){var t;(t=e.original.currentTarget)==null||t.removeEventListener("pointermove",d),o.get()==n.get()&&a.focus()}}),{cursorPosition:l,getIndex:g,draw:f}=v({selectStart:o.get,selectEnd:n.get,get:r});let a;w(document.body,function(){b(()=>u.get()&&l(),function(){function e(){const t=a.value;console.log(t);const s=c.get(),x=s.slice(0,o.get())+t+s.slice(o.get());c.set(x),o.set(o.get()+t.length),n.set(n.get()+t.length),a.value=""}a=h.input({className:"absolute w-0 h-0",s_left(){var t;return r.target.getAbsolute("x")+(((t=l())==null?void 0:t.x)||0)+"px"},s_top(){var t;return r.target.getAbsolute("y")+(((t=l())==null?void 0:t.y)||0)+"px"},onInput(t){t.isComposing||e()},onCompositionEnd:e})})});function d(e){const t=e.clientX-r.target.getAbsolute("x"),s=e.clientY-r.target.getAbsolute("y");n.set(g({x:t,y:s}))}}export{I as default};
