import{by as y,c as g,b as x,g as e,H as N,Q as w,bh as k,h as I,m as C,bl as T,bz as D,bA as F,ah as P,aP as S,B as v,$ as d,a2 as V,F as A}from"./index-DSI5ljsY.js";import{a as B}from"./onlyMobile-_iKdez2M.js";import{f as i}from"./chunk-LSEVNFON-G8OzWBoO.js";import{G as M}from"./iconBase-C0LW6USm.js";import{a as O}from"./index-B9iVH0Zi.js";import{a as E}from"./index-cHHGad51.js";function L(c,o){return M({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.5 6h-5.5v-5.5c0-0.276-0.224-0.5-0.5-0.5h-3c-0.276 0-0.5 0.224-0.5 0.5v5.5h-5.5c-0.276 0-0.5 0.224-0.5 0.5v3c0 0.276 0.224 0.5 0.5 0.5h5.5v5.5c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-5.5h5.5c0.276 0 0.5-0.224 0.5-0.5v-3c0-0.276-0.224-0.5-0.5-0.5z"},child:[]}]},c,o)}const W=x(7,function(c){return{id:c,color:i.color.rgb(),title:i.book.author(),children:x(i.number.int({min:12,max:17}),function(o){const l=!!(i.number.int()%2),s=i.date.between({from:"2020-01-01T00:00:00.000Z",to:Date.now()});return{id:o,display:i.lorem.sentence(),createTime:s,editTime:new Date(s.valueOf()+i.number.int()),finishTime:l?new Date(s.valueOf()+i.number.int({min:V})):void 0}})}});A.get();function q(){const{router:c}=y();B(function(){const o=g(W),l=g(0);e.div({className:"h-full flex flex-col items-stretch",children(){e.div({className:"h-50",children(){e.button({className:"daisy-btn daisy-btn-ghost daisy-btn-circle",onClick(){c.push("/taskist/total")},children(){O()}})}});function s(a){F(function(n){let t=l.get();const r=o.get(),f=r.length-1,b=t==0?f:t-1,p=t==f?1:t+1;n(b,r[b]),n(t,r[t]),n(p,r[p])},a)}const m=N(0),h=w(m,()=>u.clientWidth);h.hookCompare(l.get,function(a,n){return k(a-n,o.get().length)}),I(C(a=>l.get()));const u=e.div({className:"relative flex-1 min-h-0",onPointerDown:h.getOnPointerDown({direction:"x",callback(a,n){const t=o.get().length;l.set(T(l.get()+a,t))}}),children(){e.div({className:"h-full",s_transform(){return`translateX(${-m.get()}px)`},children(){s(function(a,n){e.div({className(){const t=n.getIndex()-1;return v("w-full h-full overflow-y-auto",t&&"absolute inset 0",t<0&&d`-translate-x-full top-0`,t>0&&d`translate-x-full top-0`)},children(){e.table({className:"w-full",children(){e.thead({className:"sticky top-0 bg-base-100",children(){e.tr({children(){e.td({}),e.td({className:"pt-4 pb-4 border-b-1 border-b-base-300",children(){e.h1({className:"text-4xl font-bold",childrenType:"text",children(){return n.getValue().title+"--"+n.getValue().id}})}})}})}}),e.tbody({children(){P(()=>n.getValue().children,t=>t.id,function(t){e.tr({children(){e.td({className:"align-top pl-8 pr-2 pt-4 pb-4",children(){S(()=>!!t().finishTime,r=>{},e.input({type:"checkbox"}))}}),e.td({className:"align-top pt-4 pb-4",children(){e.div({className:"font-bold",childrenType:"text",children(){return t().display}})}})}})})}})}})}})})}})}});e.div({className:" w-full pl-8 pr-8 pb-10 flex justify-between items-end",children(){e.div({className:"w-100 flex items-end gap-2",s_transform(){return`translateX(${-m.get()*8/u.clientWidth}px)`},children(n){s(function(t,r){e.div({className(){return v("w-2 transition-all",r.getIndex()==1?d`h-14`:d`h-10`)},s_background(){return r.getValue().color}})})}});const a=e.button({className:"daisy-btn daisy-btn-square",children(){L()}});D(a,{operateClone(n){return E(n,{opacity:0})}})}})}})})}export{q as default};
