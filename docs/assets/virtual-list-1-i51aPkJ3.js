import{f as x}from"./chunk-LSEVNFON-G8OzWBoO.js";import{c as p,at as E,B as C,g as y,p as F,V as z,X as R,C as _,a7 as S,D as B,E as D,aS as H,m as L,a1 as M}from"./index-C09L67qZ.js";function Y(){const w=p(E(1e3,m=>{const r=p(void 0);return{id:m,color:x.color.rgb(),height:r}})),f=C(0),k=_.get();y.div({className:"touch-none w-full h-[80%] overflow-hidden",children(m){m.addEventListener("pointerdown",r=>{F(z.from(r,{getPage:R,scrollDelta(s,d){f.set(f.getTarget()+s),S()},onFinish(s){return f.change(k.getFromVelocity(s).animationConfig()).then(d=>{})}}))}),y.div({s_transform(){return`translateY(${-f.get()}px)`},children(){const r=p(0),s=p(1);let d;B(()=>{const a=r.get(),l=s.get(),h=w.get(),v=f.get();if(v<0){if(typeof d=="number")return;let g=!1,e=l,t=0;for(let o=a;o<l;o++){const b=h[o].height.get();if(typeof b>"u")return;t=t+b,g||t>m.clientHeight&&(g=!0,e=o+1)}let n=!1;e!=l&&(n=!0);const i=Math.max(a-1,0);if(i>-1&&(n=!0),!n)return;D(()=>{a>0&&(r.set(i),d=i),s.set(e),S()})}else{let g=!1,e=0,t=a,n=0;for(let c=a;c<l;c++){const u=h[c].height.get();if(typeof u>"u")return;n=n+u,g||n>v&&(g=!0,t=c,e=n-u)}let i=!1;a!=t&&(i=!0);let o=l;if(n-e<m.clientHeight&&(i=!0,o=Math.min(l+1,h.length)),o<=h.length&&(i=!0),e&&(i=!0),!i)return;D(()=>{r.set(t),s.set(o),f.silentDiff(-e),S()})}}),H(function(a){const l=r.get(),h=s.get(),v=w.get(),g=v.length;for(let e=l;e<h&&e<g;e++){const t=v[e];a(e,e,function(n){const i=x.number.int({min:30,max:80}),o=y.div({className:"flex items-center justify-center",s_height:i+"px",data_i:t.id,s_background:t.color,children(){L`${t.id}`,y.input()}}),c=new ResizeObserver(b=>{const u=b[0].borderBoxSize[0].blockSize;d==n&&(f.silentDiff(u),d=void 0),t.height.set(u),S()});c.observe(o),M(()=>{c.disconnect()})})}})}})}})}export{Y as default};
