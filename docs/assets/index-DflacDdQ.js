import{b as T}from"./index-DManKRps.js";import{f as y,R as A,c as P,H as g,n as $,aO as X,T as D,$ as b,aA as L}from"./index--sZwA4wO.js";import{a as R}from"./onlyMobile-flvUMQFC.js";import"./index-CMyapRKq.js";import"./iconBase-7EIOOMs7.js";import"./index-BHzW6WMu.js";function H(){R(function({}){y.div({className:"touch-none",children(){v({className:"h-150 bg-white",children(l){g(l),v({sub:l,className:"h-100",children(c,w){g(c),v({sub:c,className:"bg-white flex items-center justify-center h-50",children(f){g(f)}})}})}})}})})}const k=X(void 0);function v({sub:l="",className:c="",children:w}){const f=A({getSize(){return I.clientWidth}}),r=[{display:"A"+l},{display:"B"+l},{display:"C"+l}],u=P(r[0].display);T({options:r,value(){return r.find(i=>i.display==u.get())},onChange(i){u.set(i.display)},renderChild(i){g(i.display)}});const x=$(()=>r.findIndex(i=>i.display==u.get())),I=y.div({className:"relative overflow-hidden",children(i){f.hookCompare(x,function(t,d){return t-d}),y.div({s_transform(){return`translateX(${-f.get()}px)`},children(){const t=k.consume();function d(a){return f.getMoveEvent(a,"x",{callback(p,n){const o=r[x()+p];return o?(u.set(o.display),!1):!0}})}D($(()=>{const a=u.get(),p=x(),n=[],o=r[p-1];o&&n.push({key:o.display,step:"before"}),n.push({key:a});const h=r[p+1];return h&&n.push({key:h.display,step:"after"}),n}),a=>a.key,function(a,p,n){function o(e){var s;return n==r[0].display?(s=t==null?void 0:t.left)==null?void 0:s.call(t,e):d(e)}function h(e){var s,m;return n==((s=r.at(-1))==null?void 0:s.display)?(m=t==null?void 0:t.right)==null?void 0:m.call(t,e):d(e)}function C(e){L(e,{onMove(s,m,N){if(m=="x")return N.x>0?o(s):h(s)}})}k.provide({move:C,left:o,right:h}),y.div({className(){const e=a();return e.step=="before"?b`absolute top-0 w-full h-full right-full ${c}`:e.step=="after"?b`absolute top-0 w-full h-full left-full ${c}`:b`${c}`},s_border:"1px solid gray",onPointerDown(e){e.stopPropagation(),C(e)},children(){w(n,d)}})})}})}})}export{H as default};
