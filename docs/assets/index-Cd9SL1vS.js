import{a as k}from"./onlyMobile-l-FGsgL-.js";import{l as S,f as E,p as t,z as D,k as z,c as F,ah as s,t as l,aC as C,aP as I,q as f,_ as $,b,ak as M,s as a,ai as w,aj as A,ad as L}from"./index-BeB-7kZt.js";import{f as d}from"./chunk-KZPPZA2C-rvBpA5M9.js";import{e as P}from"./explain-BylXfKAA.js";import{m as R}from"./markdown-DBoJB8Az.js";import"./iconBase-loNxg2Lh.js";import"./index-C9T9Onks.js";function G(){P(()=>{R`
#mve-canvas

类似 react-canvas
    `}),k(function({width:g,height:p},T){S(E.canvas({className:"touch-none",s_width(){return`${g()}px`},s_height(){return`${p()}px`}}),()=>{t({width:g,height:p,layout(n){return a({direction:"y",gap:10,alignFix:!0,alignItems:"stretch"})},children(){const n=F(10),u=D(()=>z(n.get()*5,e=>e)),y=t({paddingInline:20,height:20,children(){t({y:20,x(e){return e.parent.axis.x.paddingStart()+n.get()},onPointerDown(e){C(e.original,{onMove(i,r){if(r=="x"){const o=n.get();return{onMove(m){const v=m.pageX-i.pageX;n.set(I(0,v+o,y.axis.x.innerSize()))},onEnd(m){}}}}})},draw({path:e,rect:i}){s(),e.ellipse(0,0,10,10,360,0,360),l("green")}})}});f({paddingInline:10,config(){return{text:`${u().length} 条记录`}}});let x;const c=new $("y",{maxScroll(){return x.axis.y.size()-h.axis.y.size()}}),h=t({grow:1,draw(){s(),l("yellow"),L()},onPointerDown(e){c.pointerEventListner(e.original)},paddingRight:4,children(){x=t({grow:1,width(e){return e.parent.axis.x.innerSize()},y(e){return-c.get()},draw(){s(),l("white")},layout(){return a({direction:"y",alignFix:!0,alignItems:"stretch",gap:4})},children(){console.log("render"),b(u,function(e,i){t({layout(r){return a({direction:"x",gap:4})},skipDraw(r){const o=c.get();return r.axis.y.position()-o>h.axis.y.innerSize()||r.axis.y.position()-o+r.axis.y.size()<0},draw(){s(),l(i()%2?"#A5D2EE":"#EEEEEE")},paddingLeft:4,children(){t({paddingBottom:4,paddingTop:4,height:88,width:80,layout(r){return a({direction:"y"})},children(){M({grow:1,relay:"height",src:d.image.avatarGitHub()})}}),t({layout(r){return a({direction:"y",directionFix:"start",alignFix:!0,alignItems:"start",gap:12})},alignSelf:w("stretch"),grow:1,children(){f({config(){return{text:`${d.person.fullName()}   ${i()}`}}}),A({config:{maxLines:3,text:d.lorem.lines(4),fontSize:"12px"},alignSelf:w("stretch")})}})}})})}})}})}})})})}export{G as default};
