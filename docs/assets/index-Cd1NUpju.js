import{f as l}from"./chunk-KZPPZA2C-rvBpA5M9.js";import{g as d,c as g,a8 as p,f as i,a1 as f,aO as x,aP as b,an as S,aQ as y}from"./index-SfgOm-p3.js";import{e as v}from"./explain-DlMVcsDo.js";import{m as $}from"./markdown-CAB1_hk6.js";import k from"./hookMeasureHeight-DIVb1acH.js";import{forEachSubReverse as H}from"./dynamicHeight-DfzRsdUq.js";import{O as L}from"./index-PeN622_I.js";import"./iconBase-BQ1OgeWz.js";import"./index-BtwjPKRt.js";import"./canvasRender-DwJvwbpB-BWU3cVJm.js";import"./_commonjsHelpers-CqkleIqs.js";function G(){v(()=>{$`
# 虚拟列表,自定义滚动,自底向顶滚动

这个虚拟列表,需要每条记录提供自己的高度,这个高度是预先于dom渲染存在的.

自定义滚动,基于animateSignal动画,动画曲线是模仿flutter的Clamping算法,带有一定的弹性.
    `});const m=d(1e3,r=>({id:r,color:l.color.rgb(),height:l.number.int({min:30,max:80})})),o=g(m);p(0),i.div({className:"touch-none w-[90%] h-[90%] overflow-hidden border-red-100 border-1 relative",children(r){const a=g(0);k(r,()=>{a.set(r.clientHeight),f()});const s=L.hookGet("y",r,{opposite:!0,maxScroll(){const e=o.get();let t=0;for(let n=0;n<e.length;n++)t=t+e[n].height;return t-a.get()}});function u(e){return e.height}const{paddingBegin:h,subList:c}=x(()=>y(o.get(),s.get(),a.get(),u));i.div({className:"absolute w-full",s_bottom(){return`${-s.get()}px`},s_paddingBottom(){return`${h()}px`},children(){b(H(o.get,e=>e.id,c),function(e,t){i.div({className:"flex items-center justify-center min-h-0",s_height(){return`${t.getValue().height}px`},s_maxHeight(){return`${t.getValue().height}px`},s_background(){return t.getValue().color},children(){S(()=>`${t.getValue().id}--${t.getIndex()}`),i.input({className:"daisy-input daisy-input-xs"})}})})}})}})}export{G as default};
