import{f as d}from"./chunk-LSEVNFON-G8OzWBoO.js";import{g as v,c as i,f as n,as as S,bd as y,be as C,H as L,d as I,bf as T}from"./index-DQyCy5E-.js";import g from"./hookMeasureHeight-D2QBc0Fg.js";import{e as V}from"./explain-bWo98o89.js";import{m as k}from"./markdown-DmeAVver.js";import{dynamicHeightWithId as w,forEachSub as E}from"./dynamicHeight-B7Uh-f7V.js";import"./iconBase-CeRrWgC7.js";import"./index-BpkS3HI9.js";function q(){V(function(){k`
这个是用原生的滚动,每个 item 的高度不固定
未出现的高度依平均高度`});const l=v(1e3,e=>({id:e,color:d.color.rgb(),content:d.lorem.lines()})),r=i(l),s=i(0),u=n.div({className:" w-[90%] h-[90%] overflow-y-auto border-red-100 border-1",onScroll(e){s.set(u.scrollTop)},children(e){const a=i(0);g(e,()=>{a.set(e.clientHeight),S()});const{getHeightWithId:h,averageHeight:m,updateHeight:f}=w();function p(t){return h(t.id)}const{paddingBegin:b,subList:H}=y(()=>T(r.get(),s.get(),a.get(),p));n.div({s_height(){return m()*r.get().length+"px"},s_paddingTop(){return b()+"px"},children(){C(E(r.get,t=>t.id,H),function(t,o){const c=n.div({s_background(){return o.getValue().color},children(){L(()=>o.getValue().id+"--"+o.getIndex()),n.input({className:"daisy-input daisy-input-xs"}),I.p().renderTextContent(()=>o.getValue().content)}});g(c,function(){const x=c.offsetHeight;f(t,x)})})}})}})}export{q as default};
