import{af as g,D as v,F as y,c as b,o as w,q as N,b as D,f as e,u as I,a6 as T,av as k,a as x,B as d}from"./index-DnGCQBT-.js";import{a as F}from"./onlyMobile-BqottMH7.js";import{f as o}from"./chunk-LSEVNFON-G8OzWBoO.js";import{b as M}from"./index-BCG9UYdO.js";import{c as S,m as B,a as P}from"./movePage-DpqS8Mge.js";import{G as C}from"./iconBase-B4az98kw.js";import"./canvasRender-CceJW0CL.js";function L(s,i){return C({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.5 6h-5.5v-5.5c0-0.276-0.224-0.5-0.5-0.5h-3c-0.276 0-0.5 0.224-0.5 0.5v5.5h-5.5c-0.276 0-0.5 0.224-0.5 0.5v3c0 0.276 0.224 0.5 0.5 0.5h5.5v5.5c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-5.5h5.5c0.276 0 0.5-0.224 0.5-0.5v-3c0-0.276-0.224-0.5-0.5-0.5z"},child:[]}]},s,i)}const O=g(7,function(s){return{id:s,color:o.color.rgb(),title:o.book.author(),children:g(o.number.int({min:2,max:7}),function(i){const l=!!(o.number.int()%2),c=o.date.between({from:"2020-01-01T00:00:00.000Z",to:Date.now()});return{id:i,display:o.lorem.sentence(),createTime:c,editTime:new Date(c.valueOf()+o.number.int()),finishTime:l?new Date(c.valueOf()+o.number.int({min:v})):void 0}})}}),V=y.get();function $(){F(function(){const s=b(O),i=b(0);function l(r){T(function(n){let t=i.get();const a=s.get(),f=a.length-1,h=t==0?f:t-1,p=t==f?1:t+1;n(h,a[h],r),n(t,a[t],r),n(p,a[p],r)})}const c=w(0),m=B(c,()=>u.clientWidth);N(D(r=>{const n=i.get();if(typeof r=="number"){const t=S(n-r,s.get().length),a=Math.sign(t);a&&m.changePage(a)}return n}));const u=e.div({className:"relative",onPointerDown:I(function(r,n){if(n=="x")return m.pointerDown(r,V,function(t){const a=s.get().length;i.set(P(i.get()+t,a))})}),children(){e.div({s_transform(){return`translateX(${-c.get()}px)`},children(){l(function(r,n){e.table({className(){const t=n.getIndex()-1;return x("w-full",t&&"absolute inset 0",t<0&&d`-translate-x-full top-0`,t>0&&d`translate-x-full top-0`)},children(){e.tr({children(){e.td({}),e.td({children(){e.h1({className:"text-4xl font-bold",childrenType:"text",children(){return n.getValue().title+"--"+n.getValue().id}})}})}}),e.tbody({children(){k(()=>n.getValue().children,t=>t.id,function(t){e.tr({children(){e.td({className:"align-top pl-8 pr-2 pt-4 pb-4",children(){M(()=>!!t().finishTime,a=>{},e.input({type:"checkbox"}))}}),e.td({className:"align-top pt-4 pb-4",children(){e.div({className:"font-bold",childrenType:"text",children(){return t().display}})}})}})})}})}})})}})}});e.div({className:"absolute bottom-0 w-full pl-8 pr-8 pb-10 flex justify-between items-end",children(){e.div({className:"w-100 flex items-end gap-2",s_transform(){return`translateX(${-c.get()*8/u.clientWidth}px)`},children(r){l(function(n,t){e.div({className(){return x("w-2 transition-all",t.getIndex()==1?d`h-14`:d`h-10`)},s_background(){return t.getValue().color}})})}}),e.button({className:"daisy-btn daisy-btn-square",children(){L()}})}})})}export{$ as default};
