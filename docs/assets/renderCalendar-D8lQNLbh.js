import{X as k,w as c,g as l,k as v,N as C,O as w,P as y,m as _,Y as H,a1 as u}from"./index-DSI5ljsY.js";import{S as O}from"./index--WBo1qrp.js";import{WEEKS as W,firstDayOfWeekIndex as Y}from"./firstDayOfWeek-CB03lQN2.js";import{topContext as b}from"./context-C2Qx9kSc.js";import{renderWeekHeader as F,renderFirstDayWeek as I}from"./renderWeekday-CYWIvH5a.js";import N from"./renderCell-C-eH4tgB.js";function z(a,h,f,m,p){function i(){return p()/7}const{showCalendar:d}=b.consume();function g(){const r=m.get(),o=a;return r.year==o.year&&r.month==o.month}k.div({attrs(r){const o=h();o==1||(r.s_position="absolute",r.s_inset=0,r.s_transform=`translateX(${(o-1)*100}%)`)},children(){F(function(e){return W[a.weekDay(e)]});const r=c(()=>{const e=i(),s=e*5,t=C(w(m.get()),Y.get())-1;return y({0:0,[s]:e*t},u)}),o=c(()=>{const e=i()*5;return y({0:i()*6,[e]:i()},u)});l.div({className:"overflow-hidden bg-base-200 relative",s_height(){const e=f.get();return o(e)+"px"},children(){v(d,function(){l.div({s_height(){return i()*7+"px"},s_transform(){const e=Math.max(f.get(),0);return`translateY(${-r(e)}px)`},children(){for(let e=0;e<6;e++)l.div({className:"flex items-center justify-center relative",children(){for(let s=0;s<7;s++){const t=a.fullDayOf(s,e);let n=a;t.type=="last"?n=a.lastMonth():t.type=="next"&&(n=a.nextMonth()),I(s,{year:n.year,month:n.month,day:t.day});const x=O.fromYmd(n.year,n.month,t.day).getLunarDay(),D=_(()=>t.type=="this"&&g()&&m.get().day==t.day);N({day:t.day,onClick(){m.set(H.from(n.year,n.month,t.day))},lunarDay:x,selected:D,hide(){return d()?t.type!="this":!1}})}}})}})})}})}})}export{z as default};
