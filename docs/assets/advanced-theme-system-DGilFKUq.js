import{c as u,f as e}from"./index-BiAKiJb6.js";const n=u({baseHue:240,baseSaturation:60,baseLightness:50,baseContrast:50,colorMode:"balanced",semanticMode:"harmony"}),b={dark:{baseLightness:15,baseSaturation:40,baseContrast:70},light:{baseLightness:85,baseSaturation:30,baseContrast:60},balanced:{baseLightness:50,baseSaturation:60,baseContrast:50},monochrome:{baseLightness:20,baseSaturation:5,baseContrast:80},vibrant:{baseLightness:45,baseSaturation:90,baseContrast:70},"eye-care":{baseLightness:35,baseSaturation:25,baseContrast:45},custom:{}},h={pureBlack:{baseHue:0,baseSaturation:0,baseLightness:5,baseContrast:95,colorMode:"monochrome"},pureWhite:{baseHue:0,baseSaturation:0,baseLightness:95,baseContrast:90,colorMode:"light"},deepOcean:{baseHue:220,baseSaturation:30,baseLightness:8,baseContrast:85,colorMode:"dark"},darkForest:{baseHue:140,baseSaturation:25,baseLightness:12,baseContrast:80,colorMode:"dark"},cyberpunk:{baseHue:300,baseSaturation:95,baseLightness:25,baseContrast:90,colorMode:"vibrant"},warmBeige:{baseHue:35,baseSaturation:20,baseLightness:75,baseContrast:55,colorMode:"light"}};function i(s){const t=document.documentElement;t.style.setProperty("--baseHue",s.baseHue.toString()),t.style.setProperty("--baseSaturation",`${s.baseSaturation}%`),t.style.setProperty("--baseLightness",`${s.baseLightness}%`),t.style.setProperty("--baseContrast",`${s.baseContrast}%`),s.colorMode&&s.colorMode!=="custom"&&(document.body.classList.remove("color-mode-dark","color-mode-light","color-mode-balanced","color-mode-monochrome","color-mode-vibrant","color-mode-eye-care"),document.body.classList.add(`color-mode-${s.colorMode}`)),s.semanticMode&&(document.body.classList.remove("semantic-fixed","semantic-harmony"),document.body.classList.add(`semantic-${s.semanticMode}`)),n.set(s),localStorage.setItem("advanced-theme-config",JSON.stringify(s))}function g(){try{const s=localStorage.getItem("advanced-theme-config");if(s){const t=JSON.parse(s);i(t)}else i(n.get())}catch{i(n.get())}}function p(s){const t=n.get(),a=b[s];i({...t,...a,colorMode:s})}function v(s){i(h[s])}class m{static calculateBackgroundLightness(t,a){const r={primary:.16,secondary:.24,tertiary:.32};return t>70?Math.min(100,t+(100-t)*r[a]):t*r[a]}static calculateTextLightness(t,a){const r={primary:.05,secondary:.25,tertiary:.45};return t>50?t*r[a]:100-t*r[a]}static calculateContrastRatio(t,a){const r=t/100,c=a/100,o=Math.max(r,c),l=Math.min(r,c);return(o+.05)/(l+.05)}static ensureAccessibility(t,a,r=4.5){let c=a;return this.calculateContrastRatio(t,c)<r&&(t>50?c=Math.max(0,c-20):c=Math.min(100,c+20)),c}}function L(){e.div({className:"ds-card ds-card--elevated",children(){e.div({className:"ds-card__header",children(){e.h3({className:"ds-card__title",children:"ğŸ›ï¸ é«˜çº§ä¸»é¢˜ç¼–è¾‘å™¨"}),e.p({className:"ds-card__subtitle",children:"å…¨å‚æ•°é…è‰²ç³»ç»Ÿï¼Œæ”¯æŒä»çº¯é»‘åˆ°çº¯ç™½çš„ä»»æ„é…è‰²"})}}),e.div({className:"ds-card__body space-y-6",children(){x(),y(),N(),f(),S()}})}})}function x(){e.div({children(){e.h4({className:"text-white font-medium mb-3",children:"ğŸŒŸ ç‰¹æ®Šä¸»é¢˜é¢„è®¾"}),e.div({className:"grid grid-cols-2 md:grid-cols-3 gap-2",children(){Object.entries(h).forEach(([s,t])=>{e.button({className:"ds-button ds-button--ghost p-3 text-xs",onClick(){v(s)},children(){e.div({className:"space-y-1",children(){e.div({className:"w-full h-6 rounded mb-1",s_background:`hsl(${t.baseHue}, ${t.baseSaturation}%, ${t.baseLightness}%)`}),e.div({className:"text-white font-medium",children:s.replace(/([A-Z])/g," $1").replace(/^./,a=>a.toUpperCase())}),e.div({className:"text-white/70",children:`L${t.baseLightness}% S${t.baseSaturation}%`})}})}})})}})}})}function y(){e.div({children(){e.h4({className:"text-white font-medium mb-3",children:"ğŸ¨ è‰²å½©æ¨¡å¼"}),e.div({className:"grid grid-cols-2 md:grid-cols-3 gap-2",children(){[{key:"dark",name:"æ·±è‰²",desc:"ä½äº®åº¦",emoji:"ğŸŒ™"},{key:"light",name:"æµ…è‰²",desc:"é«˜äº®åº¦",emoji:"â˜€ï¸"},{key:"balanced",name:"å¹³è¡¡",desc:"ä¸­ç­‰",emoji:"âš–ï¸"},{key:"monochrome",name:"å•è‰²",desc:"é»‘ç™½",emoji:"âš«"},{key:"vibrant",name:"é²œè‰³",desc:"é«˜é¥±å’Œ",emoji:"ğŸŒˆ"},{key:"eye-care",name:"æŠ¤çœ¼",desc:"ä½é¥±å’Œ",emoji:"ğŸ‘ï¸"}].forEach(t=>{e.button({className(){return`ds-button ds-button--ghost p-2 text-xs ${n.get().colorMode===t.key?"border-white/30 bg-white/10":""}`},onClick(){p(t.key)},children(){e.div({className:"text-center",children(){e.div({className:"text-lg mb-1",children:t.emoji}),e.div({className:"font-medium",children:t.name}),e.div({className:"text-white/70",children:t.desc})}})}})})}})}})}function N(){e.div({children(){e.h4({className:"text-white font-medium mb-3",children:"ğŸ›ï¸ å‚æ•°è°ƒèŠ‚"}),e.div({className:"space-y-4",children(){d("è‰²ç›¸ (Hue)",()=>n.get().baseHue,s=>{const t=n.get();i({...t,baseHue:s,colorMode:"custom"})},0,360,1),d("é¥±å’Œåº¦ (Saturation)",()=>n.get().baseSaturation,s=>{const t=n.get();i({...t,baseSaturation:s,colorMode:"custom"})},0,100,1),d("äº®åº¦ (Lightness)",()=>n.get().baseLightness,s=>{const t=n.get();i({...t,baseLightness:s,colorMode:"custom"})},0,100,1),d("å¯¹æ¯”åº¦ (Contrast)",()=>n.get().baseContrast,s=>{const t=n.get();i({...t,baseContrast:s,colorMode:"custom"})},0,100,1)}})}})}function d(s,t,a,r,c,o){e.div({className:"space-y-2",children(){e.div({className:"flex justify-between items-center",children(){e.label({className:"text-white font-medium text-sm",children:s}),e.span({className:"text-white/70 text-sm",children(){return`${Math.round(t())}${s.includes("Hue")?"Â°":"%"}`}})}}),e.input({type:"range",min:r.toString(),max:c.toString(),step:o.toString(),value:()=>t().toString(),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider",onInput(l){a(parseFloat(l.target.value))}})}})}function f(){e.div({children(){e.h4({className:"text-white font-medium mb-3",children:"ğŸ‘ï¸ å®æ—¶é¢„è§ˆ"}),e.div({className:"grid grid-cols-1 md:grid-cols-2 gap-4",children(){e.div({className:"space-y-2",children(){e.div({className:"text-white/70 text-sm",children:"èƒŒæ™¯è‰²å±‚çº§"}),["primary","secondary","tertiary"].forEach((t,a)=>{e.div({className:"h-8 rounded flex items-center justify-center text-white text-xs font-medium",s_background:`var(--bg-${t})`,children:`èƒŒæ™¯ ${a+1}`})})}}),e.div({className:"space-y-2",children(){e.div({className:"text-white/70 text-sm",children:"æ–‡æœ¬è‰²å±‚çº§"}),e.div({className:"p-3 rounded",s_background:"var(--bg-primary)",children(){e.div({className:"space-y-1",children(){e.div({s_color:"var(--text-primary)",className:"text-sm font-medium",children:"ä¸»è¦æ–‡æœ¬"}),e.div({s_color:"var(--text-secondary)",className:"text-sm",children:"æ¬¡è¦æ–‡æœ¬"}),e.div({s_color:"var(--text-tertiary)",className:"text-xs",children:"ä¸‰çº§æ–‡æœ¬"}),e.div({s_color:"var(--text-disabled)",className:"text-xs",children:"ç¦ç”¨æ–‡æœ¬"})}})}})}})}})}})}function S(){e.div({children(){e.h4({className:"text-white font-medium mb-3",children:"â™¿ å¯è®¿é—®æ€§æ£€æŸ¥"}),e.div({className:"space-y-2",children(){const s=n.get(),t=m.calculateBackgroundLightness(s.baseLightness,"primary"),a=m.calculateTextLightness(s.baseLightness,"primary"),r=m.calculateContrastRatio(t,a);e.div({className:"flex justify-between items-center p-2 bg-black/20 rounded",children(){e.span({className:"text-white/70 text-sm",children:"å¯¹æ¯”åº¦æ¯”ä¾‹"}),e.span({className:"text-white text-sm font-mono",children:`${r.toFixed(2)}:1`})}}),e.div({className:"flex justify-between items-center p-2 bg-black/20 rounded",children(){e.span({className:"text-white/70 text-sm",children:"WCAG AA æ ‡å‡†"}),e.span({className:`text-sm font-medium ${r>=4.5?"text-green-400":"text-red-400"}`,children:r>=4.5?"âœ… é€šè¿‡":"âŒ æœªé€šè¿‡"})}}),e.div({className:"flex justify-between items-center p-2 bg-black/20 rounded",children(){e.span({className:"text-white/70 text-sm",children:"WCAG AAA æ ‡å‡†"}),e.span({className:`text-sm font-medium ${r>=7?"text-green-400":"text-yellow-400"}`,children:r>=7?"âœ… é€šè¿‡":"âš ï¸ æœªé€šè¿‡"})}})}})}})}function w(){g()}export{b as COLOR_MODE_PRESETS,m as ColorCalculator,h as SPECIAL_THEMES,i as applyAdvancedTheme,p as applyColorModePreset,v as applySpecialTheme,n as currentAdvancedTheme,w as initAdvancedThemeSystem,g as loadSavedAdvancedTheme,L as renderAdvancedThemeEditor};
