import{f}from"./chunk-KZPPZA2C-rvBpA5M9.js";import{aW as w,c as m,z as v,aH as D,Q as u,aZ as y,f as s,w as T,av as $,b1 as b,aO as I}from"./index-B26XVUiJ.js";import{t as N,r as C}from"./themeDropdown-CfAtQSY_.js";import{f as L}from"./fixRightTop-CEgFAPt_.js";import{a as E}from"./onlyMobile-Bxw5NbBD.js";import{a as O}from"./index-BxY9dVzG.js";const M=Array(30).fill(1).map((a,r)=>({index:r,name:f.person.fullName(),avatar:f.image.avatar(),theme:C(),h:Math.floor(Math.random()*100+50)}));function Y(){L(function(){N()});const a=m(M),r=m(void 0),{createListContainer:h}=w({getDragData:r.get,setDragData:r.set,changeIndexAnimate(t,o,p){O(t,{[o]:[p,0]})},onDragFinish(t,o){if(o&&(o.accept="move")){const p=t.targetPlaceholder;if(!p)throw"no preview placeholder";const n=a.get().filter(l=>l!=t.id),c=p.beforeId();if(c){const l=n.indexOf(c);n.splice(l,0,t.id)}else n.push(t.id);a.set(n)}t.onDropEnd.set(!0),$()}});return E(function({width:t,height:o},p){const n=v(()=>a.get().filter(e=>{const i=r.get();return!(i&&e==i.id&&!i.onDropEnd.get())})),{renderChildren:c,plugin:l}=h({accept(e){return"move"},direction:"y",getList:n,getId:D,createDragData(e,i,d){return{...y(e,d),id:i,activeContainer:m(null),dragX:u(0),dragY:u(0),onDropEnd:m(!1)}},preview(e,i){i.targetPlaceholder={index:e,element:g(i.id,{children:e,s_opacity:0,showTop:e}),beforeId(){return n()[e()]}}}});s.div({s_width:"100%",s_height:"100%",s_overflow:"auto",s_marginInline:"auto",s_position:"relative",className:"daisy-list touch-none pl-1 pr-1",plugin:l,children(){c(function({key:e,getData:i,getIndex:d,onPointerDown:x,plugin:_}){g(e,{showTop:d,children:d,plugin:_,onPointerDown:x,className(){return r.get()?.id==e?"opacity-0 pointer-events-none":""}})}),T(r.get,e=>{e&&g(e.id,{children:"move...",className:"pointer-events-none opacity-90 fixed",s_position:"fixed",s_width:`${e.width}px`,s_height:`${e.height}px`,s_top(){return`${e.dragY.get()-e.y}px`},s_transformOrigin(){return`${e.x}px ${e.y}px`}})})}})})}function g(a,{showTop:r=I,children:h,...t}){return s.div({s_position:"relative",...t,className:b("daisy-row daisy-card flex-row gap-1 pl-1 pr-1",t.className),data_theme:a.theme,s_display:"flex",s_alignItems:"center",s_marginTop(){return r()?"10px":"0px"},s_minHeight:`${a.h}px`,children(){s.img({src:a.avatar,s_width:"50px",s_height:"50px"}),s.span({childrenType:"text",children:a.name}),s.hr({s_flex:1}),s.span({childrenType:"text",children:h})}})}export{M as dataList,Y as default};
