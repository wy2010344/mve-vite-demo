import{bx as y,c as g,g as x,f as e,h as N,o as w,b4 as k,a9 as I,aT as T,i as C,y as v,K as h,H as M,b6 as D,F}from"./index-Dxu4lnfn.js";import{a as E}from"./onlyMobile-DoxvEJsg.js";import{f as a}from"./chunk-KZPPZA2C-rvBpA5M9.js";import{m as S,w as V,f as L}from"./index-CT0uQ99y.js";import{G as $}from"./iconBase-BD6ICo6R.js";import{a as A}from"./index-B7X7HqI_.js";import{a as B}from"./index-BxY9dVzG.js";import"./canvasRender-CK3mhhFQ.js";import"./_commonjsHelpers-CqkleIqs.js";function p(c,i){return $(p,{attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.5 6h-5.5v-5.5c0-0.276-0.224-0.5-0.5-0.5h-3c-0.276 0-0.5 0.224-0.5 0.5v5.5h-5.5c-0.276 0-0.5 0.224-0.5 0.5v3c0 0.276 0.224 0.5 0.5 0.5h5.5v5.5c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-5.5h5.5c0.276 0 0.5-0.224 0.5-0.5v-3c0-0.276-0.224-0.5-0.5-0.5z"},child:[]}]},c,i)}p.iconName="267-plus";const O=x(7,function(c){return{id:c,color:a.color.rgb(),title:a.book.author(),children:x(a.number.int({min:12,max:17}),function(i){const o=!!(a.number.int()%2),s=a.date.between({from:"2020-01-01T00:00:00.000Z",to:Date.now()});return{id:i,display:a.lorem.sentence(),createTime:s,editTime:new Date(s.valueOf()+a.number.int()),finishTime:o?new Date(s.valueOf()+a.number.int({min:M})):void 0}})}});F.get();function H(){const{router:c}=y();E(function(){const i=g(O),o=g(0);e.div({className:"h-full flex flex-col items-stretch",children(){e.div({className:"h-50",children(){e.button({className:"daisy-btn daisy-btn-ghost daisy-btn-circle",onClick(){c.push("/taskist/total")},children(){A()}})}});function s(l){T(function(r){const n=o.get(),t=i.get(),d=t.length-1,f=n==0?d:n-1,u=n==d?1:n+1;r(f,t[f]),r(n,t[n]),r(u,t[u])},l)}const m=S({getSize(){return b.clientWidth}});N(w(l=>o.get()));const b=e.div({className:"relative flex-1 min-h-0",children(l){m.hookCompare(o.get,function(r,n){return k(r-n,i.get().length)}),l.addEventListener("pointerdown",r=>I(r,{onMove(n,t){if(t=="x")return m.getMoveEvent(n,"x",{callback(d,f){const u=i.get().length;o.set(D(o.get()+d,u))}})}})),e.div({className:"h-full",s_transform(){return`translateX(${-m.get()}px)`},children(){s(function(r,n){e.div({className(){const t=n.getIndex()-1;return v("w-full h-full overflow-y-auto",t&&"absolute inset 0",t<0&&h`-translate-x-full top-0`,t>0&&h`translate-x-full top-0`)},children(){e.table({className:"w-full",children(){e.thead({className:"sticky top-0 bg-base-100",children(){e.tr({children(){e.td({}),e.td({className:"pt-4 pb-4 border-b-1 border-b-base-300",children(){e.h1({className:"text-4xl font-bold",childrenType:"text",children(){return`${n.getValue().title}--${n.getValue().id}`}})}})}})}}),e.tbody({children(){C(()=>n.getValue().children,t=>t.id,function(t){e.tr({children(){e.td({className:"align-top pl-8 pr-2 pt-4 pb-4",children(){L(()=>!!t().finishTime,d=>{},e.input({type:"checkbox"}))}}),e.td({className:"align-top pt-4 pb-4",children(){e.div({className:"font-bold",childrenType:"text",children(){return t().display}})}})}})})}})}})}})})}})}});e.div({className:" w-full pl-8 pr-8 pb-10 flex justify-between items-end",children(){e.div({className:"w-100 flex items-end gap-2",s_transform(){return`translateX(${-m.get()*8/b.clientWidth}px)`},children(r){s(function(n,t){e.div({className(){return v("w-2 transition-all",t.getIndex()==1?h`h-14`:h`h-10`)},s_background(){return t.getValue().color}})})}});const l=e.button({className:"daisy-btn daisy-btn-square",children(){p()}});V(l,{operateClone(r){return B(r,{opacity:0})}})}})}})})}export{H as default};
