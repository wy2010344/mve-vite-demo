import{Y as p,c as d,y as h,O as Y,ah as y,A as u,C as V,au as s,an as D,f as x}from"./index-DzjyJcX9.js";import{a as C}from"./onlyMobile-BWWyyzDX.js";import{f as M}from"./fixRightTop-Db2_Vtd0.js";import{t as O}from"./themeDropdown-CvPGJFqw.js";import b from"./firstDayOfWeek-DrUuMBPI.js";import E from"./renderHeader-C-98thoG.js";import F from"./renderPageList-Dox1wS0_.js";import{topContext as H}from"./context-BjLU2Soo.js";import I from"./renderYearMonthChoose-DOuo58td.js";import"./chunk-LSEVNFON-G8OzWBoO.js";import"./hookTrackLayout-YGI7JWSY.js";import"./index-cHHGad51.js";import"./renderCalendar-C_45wNiG.js";import"./index--WBo1qrp.js";import"./renderWeekday-BUjE2Zrr.js";import"./renderCell-CXhEpPnp.js";import"./iconBase-DKriBYi6.js";import"./renderPage-DIrn7cA7.js";import"./demoList-DjBubDIy.js";const w=V.get();function _(){C(function({width:l},S){S&&M(function(){b(),O()});const f=p.fromDate(new Date),m=d(f,h),T=setInterval(()=>{m.set(p.fromDate(new Date))},Y/2);y(()=>{clearInterval(T)});const i=d(f,h);function r(){return 5*l()/7}function n(){return 44*3}const t=u(r()),e=u(n());function c(){return e.get()!=n()}H.provide({yearMonthScrollY:e,scrollYearMonthOpenHeight:n,calendarScrollY:t,calendarOpenHeight:r,today:m.get,showCalendar(){return t.get()!=r()},async calendarClose(){c()&&e.changeTo(n()),t.changeTo(r())},calendarScroll(o,g){if(c()){const a=e.get()+o;a>=n()?(e.set(n()),D()):a<=0?e.set(e.get()+o/3):e.set(a)}else{const a=t.get()+o;a>=r()?(t.set(r()),D()):a<=0?(t.set(0),e.changeDiff(a)):t.set(a)}},calendarFinish(o){c()?w.getFromVelocity(o).distance+e.get()>n()/2?e.changeTo(n(),s(o)):e.changeTo(0,s(o)):w.getFromVelocity(o).distance+t.get()>r()/2?t.changeTo(r(),s(o)):t.changeTo(0,s(o))}}),x.div({className:"absolute inset-0 flex flex-col select-none touch-none",children(){I(i),E(i,l),F(i)}})})}export{_ as default};
