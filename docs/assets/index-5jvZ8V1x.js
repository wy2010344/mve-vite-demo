import{Y as g,c as d,L as h,a2 as Y,i as V,H as u,C as x,aF as i,at as D,g as y}from"./index-DSI5ljsY.js";import{a as C}from"./onlyMobile-_iKdez2M.js";import{f as M}from"./fixRightTop-CDKwd8gC.js";import{t as b}from"./themeDropdown-C9eXtBPV.js";import E from"./firstDayOfWeek-CB03lQN2.js";import F from"./renderHeader-DYJiTud3.js";import H from"./renderPageList-BsOrG5WH.js";import{topContext as L}from"./context-C2Qx9kSc.js";import O from"./renderYearMonthChoose-DTjRnVIl.js";import"./chunk-LSEVNFON-G8OzWBoO.js";import"./hookTrackLayout-CQyBOy8u.js";import"./index-cHHGad51.js";import"./renderCalendar-D8lQNLbh.js";import"./index--WBo1qrp.js";import"./renderWeekday-CYWIvH5a.js";import"./renderCell-C-eH4tgB.js";import"./index-RKAapfHR.js";import"./iconBase-C0LW6USm.js";import"./renderPage-CZhiWavw.js";import"./demoList-CysNCtaT.js";const w=x.get();function $(){C(function({width:l},S){S&&M(function(){E(),b()});const m=g.fromDate(new Date),f=d(m,h),T=setInterval(()=>{f.set(g.fromDate(new Date))},Y/2);V(()=>{clearInterval(T)});const s=d(m,h);function r(){return 5*l()/7}function n(){return 44*3}const t=u(r()),e=u(n());function c(){return e.get()!=n()}L.provide({yearMonthScrollY:e,scrollYearMonthOpenHeight:n,calendarScrollY:t,calendarOpenHeight:r,today:f.get,showCalendar(){return t.get()!=r()},async calendarClose(){c()&&e.animateTo(n()),t.animateTo(r())},calendarScroll(o,p){if(c()){const a=e.get()+o;a>=n()?(e.set(n()),D()):a<=0?e.set(e.get()+o/3):e.set(a)}else{const a=t.get()+o;a>=r()?(t.set(r()),D()):a<=0?(t.set(0),e.changeDiff(a)):t.set(a)}},calendarFinish(o){c()?w.getFromVelocity(o).distance+e.get()>n()/2?e.changeTo(n(),i(o)):e.changeTo(0,i(o)):w.getFromVelocity(o).distance+t.get()>r()/2?t.changeTo(r(),i(o)):t.changeTo(0,i(o))}}),y.div({className:"absolute inset-0 flex flex-col select-none touch-none",children(){O(s),F(s,l),H(s)}})})}export{$ as default};
