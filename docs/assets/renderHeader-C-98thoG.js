import{m as h,z as E,W as I,f as a,K as w,A as L,H as x,J as V,b as $,aA as j,a as b,av as y,w as q,Z as M,L as W,M as A,Y as v,D as G,e as O,Q as z,R as B,F as H,u as K}from"./index-DzjyJcX9.js";import R from"./hookTrackLayout-YGI7JWSY.js";import{firstDayOfWeekIndex as D,WEEKTIMES as X}from"./firstDayOfWeek-DrUuMBPI.js";import J from"./renderCalendar-C_45wNiG.js";import{topContext as Q}from"./context-BjLU2Soo.js";import{G as U}from"./iconBase-DKriBYi6.js";import Z from"./renderWeekday-BUjE2Zrr.js";import{selectShadowCell as _}from"./renderCell-CXhEpPnp.js";import{a as T}from"./index-cHHGad51.js";import"./index--WBo1qrp.js";function ee(n,g){return U({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 160-64 64 64 64"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M64 224h294c58.76 0 106 49.33 106 108v20"},child:[]}]},n,g)}H.get();function ue(n,g){const{calendarScrollY:d,calendarClose:C,showCalendar:l,calendarScroll:F,calendarFinish:P,today:m}=Q.consume();R(n.get,_);const f=h(i=>{const s=n.get();return new E(s.year,s.month,D.get())}),k=h(()=>{const i=n.get();return I.from(i.year,i.month,i.day,D.get())});a.div({className:"relative",onPointerDown:w(function(){return{onMove(i,s){if(s=="y")return z.from(i,{getPage:B,scrollDelta(u,p){F(u,p)},onFinish(u){P(u)}})}}}),children(){const i=L(0);x(h(t=>{const e=f();if(t&&l()){const r=Math.sign(e.toNumber()-t.toNumber());r&&s.changePage(r)}return e})),x(h(t=>{const e=k();if(t&&!l()){const r=Math.sign(e.cells[0].toNumber()-t.cells[0].toNumber());r&&s.changePage(r)}return e}));const s=V(i,u);function u(){return p.clientWidth}const p=a.div({className:"overflow-hidden  bg-base-300 touch-none",onPointerDown:w(function(){return{onMove(t,e){if(e=="x")return s.pointerDown(t,{callback(r,c){if(l()){const o=r<0?f().lastMonth():f().nextMonth();n.get().day>o.days?n.set(v.from(o.year,o.month,o.days)):n.set(v.from(o.year,o.month,n.get().day))}else{const o=G(n.get());o.setTime(o.getTime()+r*X),r&&n.set(v.fromDate(o))}}})}}}),children(){a.div({className:"relative",s_transform(){return`translateX(${-i.get()}px)`},children(){$(l,function(){b(W(()=>{const t=f();return[t.lastMonth(),t,t.nextMonth()]},A),function(t,e){J(t,e,d,n,g)})},function(){b(W(()=>{const t=k();return[t.beforeWeek(),t,t.nextWeek()]},A),function(t,e){Z(t,e,n)})})}})}});a.div({className:"w-full h-11 flex justify-between items-center [padding-inline:18px] bg-base-100 z-10",children(){a.div({className:"flex items-center gap-1",children(){const t=j(()=>{const e=m().toNumber(),r=n.get().toNumber();return e!=r?[1]:O});b(t,function(e){const r=a.button({className:"daisy-btn daisy-btn-xs daisy-btn-circle",onClick(){n.set(m())},children(){ee()}});x((c=K)=>{const o=e.step(),Y=m().toNumber(),S=n.get().toNumber(),N=Math.sign(S-Y);return o==c.step&&N==c.dir?c:{step:o,dir:N}},function({step:c,dir:o}){c=="enter"?T(r,{rotateY:o>0?[90,0]:[90,180]}).then(e.resolve):c=="exiting"&&T(r,{rotateY:o>0?[0,90]:[180,90]}).then(e.resolve)})}),a.h1({className(){const e=m(),r=n.get();return q("text-2xl text-base-content font-bold",e.equals(r)?"text-2xl":e.year==r.year?"text-xl":"text-lg",d.onAnimation()?M`cursor-not-allowed`:M`cursor-pointer`)},childrenType:"text",children(){const e=n.get();return m().year!=e.year?`${e.year}-${y(e.month,2)}-${y(e.day,2)}`:`${y(e.month,2)}-${y(e.day,2)}`},onClick(){d.onAnimation()||(l()?C():d.changeTo(0))}})}}),a.div({className:"text-base-content",children(){a.span({className:"mr-[0.125em] text-2xl",childrenType:"text",children:"Â¥"}),a.span({className:"text-2xl",childrenType:"text",children:"23"}),a.sup({className:"opacity-50 text-[0.75em] -top-[0.75em]",childrenType:"text",children:".00"})}})}})}})}export{ue as default};
