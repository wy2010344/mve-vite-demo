import{f}from"./chunk-KZPPZA2C-rvBpA5M9.js";import{c as d,o as w,ae as v,a8 as u,f as s,l as D,a1 as y,aq as T}from"./index-Dxu4lnfn.js";import{t as $,r as I}from"./themeDropdown-B0rPPkaV.js";import{f as N}from"./fixRightTop-BTtFi2BY.js";import{a as b}from"./onlyMobile-DoxvEJsg.js";import{s as C,n as E,g as L}from"./index-CT0uQ99y.js";import{a as M}from"./index-BxY9dVzG.js";import"./index-D2NKKKQE.js";import"./iconBase-BD6ICo6R.js";import"./mve-icon-Bb-GIgrm.js";import"./canvasRender-CK3mhhFQ.js";import"./_commonjsHelpers-CqkleIqs.js";const O=Array(30).fill(1).map((r,a)=>({index:a,name:f.person.fullName(),avatar:f.image.avatar(),theme:I(),h:Math.floor(Math.random()*100+50)}));function z(){N(function(){$()});const r=d(O),a=d(void 0),{createListContainer:h}=C({getDragData:a.get,setDragData:a.set,changeIndexAnimate(t,o,p){M(t,{[o]:[p,0]})},onDragFinish(t,o){if(o&&o.accept=="move"){const p=t.targetPlaceholder;if(!p)throw"no preview placeholder";const n=r.get().filter(l=>l!=t.id),m=p.beforeId();if(m){const l=n.indexOf(m);n.splice(l,0,t.id)}else n.push(t.id);r.set(n)}t.onDropEnd.set(!0),y()}});return b(function({width:t,height:o},p){const n=w(()=>r.get().filter(e=>{const i=a.get();return!(i&&e==i.id&&!i.onDropEnd.get())})),{renderChildren:m,plugin:l}=h({accept(e){return"move"},direction:"y",getList:n,getId:v,createDragData(e,i,c){return{...E(e,c),startEvent:e,id:i,activeContainer:d(null),dragX:u(0),dragY:u(0),onDropEnd:d(!1)}},preview(e,i){i.targetPlaceholder={index:e,element:g(i.id,{children:e,s_opacity:0,showTop:e}),beforeId(){return n()[e()]}}}});s.div({s_width:"100%",s_height:"100%",s_overflow:"auto",s_marginInline:"auto",s_position:"relative",className:"daisy-list touch-none pl-1 pr-1",plugin:l,children(){m(function({key:e,getData:i,getIndex:c,onPointerDown:x,plugin:_}){g(e,{showTop:c,children:c,plugin:_,onPointerDown:x,className(){return a.get()?.id==e?"opacity-0 pointer-events-none":""}})}),D(a.get,e=>{e&&g(e.id,{children:"move...",className:"pointer-events-none opacity-90 fixed",s_position:"fixed",s_width:`${e.width}px`,s_height:`${e.height}px`,s_top(){return`${e.dragY.get()-e.y}px`},s_transformOrigin(){return`${e.x}px ${e.y}px`}})})}})})}function g(r,{showTop:a=T,children:h,...t}){return s.div({s_position:"relative",...t,className:L("daisy-row daisy-card flex-row gap-1 pl-1 pr-1",t.className),data_theme:r.theme,s_display:"flex",s_alignItems:"center",s_marginTop(){return a()?"10px":"0px"},s_minHeight:`${r.h}px`,children(){s.img({src:r.avatar,s_width:"50px",s_height:"50px"}),s.span({childrenType:"text",children:r.name}),s.hr({s_flex:1}),s.span({childrenType:"text",children:h})}})}export{O as dataList,z as default};
