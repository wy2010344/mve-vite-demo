import{e as S,g as I}from"./index-CDh5263u.js";import{z as i,k as b,f as p,b as h,E as W}from"./index-BeB-7kZt.js";import{context as L}from"./context-CHaqSROq.js";import"./index-DWYOOuKM.js";import"./iconBase-loNxg2Lh.js";import"./index-BxY9dVzG.js";function z(e){const{numberInputs:c,numberOutputs:l}=e.data,u=i(()=>b(c.get(),t=>t.toString())),a=i(()=>b(l.get(),t=>t.toString())),x=()=>Math.max(u().length,a().length)*24+12+4,m=i(()=>(x()-u().length*24)/2),f=i(()=>(x()-a().length*24)/2),v=i(()=>u().map((t,o)=>({x(){return e.x.get()-18},y(){return e.y.get()+m()+o*24}}))),y=i(()=>a().map((t,o)=>({x(){return e.x.get()+138},y(){return e.y.get()+f()+o*24}})));function w(t){let s=u().indexOf(t);if(!(s<0))return v()[s]}function C(t){let s=a().indexOf(t);if(!(s<0))return y()[s]}return{render(t){const o=S(D),{onPointerEnterInput:s,onPointerLeaveInput:N,onPointerDownOutput:k,scale:P,selectedNode:g}=L.consume();p.div({className(){return o("node",{selected:g.get()==e})},s_transform(){return`translate(${e.x.get()}px, ${e.y.get()}px)`},onPointerDown(r){r.stopPropagation(),g.set(e),W({onMove(n){const d=P.get();e.x.set(e.x.get()+(n.pageX-r.pageX)/d),e.y.set(e.y.get()+(n.pageY-r.pageY)/d),r=n}})},children(){p.div({className:o("inputsWrapper"),children(){h(u,function(r){p.div({className:o("input"),onPointerEnter(n){s(n,t,r)},onPointerLeave(n){N(n,t,r)}})}),p.button({className:o("plus"),onClick(){c.set(c.get()+1)}})}}),p.div({className:o("outputsWrapper"),children(){h(a,function(r){p.div({className:o("output"),onPointerDown(n){n.stopPropagation(),k(n,t,r)}})}),p.button({className:o("plus"),onClick(){l.set(l.get()+1)}})}})}})},inputLocation:w,outputLocation:C}}const D=I(e=>({node:{base:{display:"flex",justifyContent:"space-between",position:"absolute",cursor:"grab",backgroundColor:"white",border:"2px solid #c4c4c4",borderRadius:"6px",boxShadow:"1px 1px 11px -6px rgba(0, 0, 0, 0.75)",userSelect:"none",zIndex:1,transition:"border ease 0.2s, box-shadow ease 0.2s",width:"120px","&:hover":{boxShadow:"2px 2px 12px -6px rgba(0, 0, 0, 0.75)"}},variants:{selected:{true:{border:"2px solid #e38c29","&:hover":{boxShadow:"2px 2px 12px -6px rgba(0, 0, 0, 0.75)"}}}}},inputsWrapper:{base:{position:"relative",left:"-24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",width:"12px",pointerEvents:"none"}},input:{base:{width:"12px",height:"12px",borderRadius:"100%",backgroundColor:"#e38c29",cursor:"crosshair",pointerEvents:"all"}},outputsWrapper:{base:{position:"relative",right:"-24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",width:"12px",pointerEvents:"none"}},output:{base:{width:"12px",height:"12px",borderRadius:"100%",backgroundColor:"#e38c29",cursor:"crosshair",pointerEvents:"all"}},plus:{base:{position:"absolute",bottom:"-24px",width:"12px",height:"12px",borderRadius:"100%",backgroundColor:"green",pointerEvents:"all",opacity:.3,"&:hover":{opacity:1}}}}),{node:{},inputsWrapper:{},input:{},outputsWrapper:{},output:{},plus:{}});export{z as createNumberNodeType};
